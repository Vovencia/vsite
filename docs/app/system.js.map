{"version":3,"sources":["webpack:///./system/index.styl","webpack:///./system/index.styl?6145","webpack:///./system/index.ts","webpack:///./system/init.ts","webpack:///./system/load-applications.ts","webpack:///./system/loading.ts","webpack:///./system/render.tsx","webpack:///./system/store.ts","webpack:///./system/taskbar-update.ts","webpack:///./system/window.ts"],"names":[],"mappings":"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","file":"app/system.js","sourcesContent":["var escape = require(\"../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\nexports.push([module.id, \"@import url(https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700&subset=cyrillic);\", \"\"]);\n\n// module\nexports.push([module.id, \"html,\\nbody {\\n  padding: 0;\\n  margin: 0;\\n}\\nhtml {\\n  font-family: 'Roboto', Segoe UI, Frutiger, Frutiger Linotype, Dejavu Sans, Helvetica Neue, Arial, sans-serif;\\n  font-size: 1px;\\n  line-height: 1;\\n  width: 100%;\\n  height: 100%;\\n  color: #fff;\\n  background: #777 url(\" + escape(require(\"@assets/images/backgrounds/digital_space_universe_4k_8k-3840x2160.jpg\")) + \") center no-repeat;\\n  background-size: cover;\\n}\\nbody {\\n  width: 100%;\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1;\\n  flex-shrink: 1;\\n  font-size: 16rem;\\n}\\n#App {\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1;\\n}\\n*,\\n*:before,\\n*:after {\\n  box-sizing: padding-box;\\n  box-sizing: border-box;\\n}\\n*::-webkit-scrollbar {\\n  width: 10px;\\n  height: 10px;\\n  cursor: none;\\n}\\n*::-webkit-scrollbar-track {\\n  background: #f1f1f1;\\n  cursor: none;\\n}\\n*::-webkit-scrollbar-thumb {\\n  background: #888;\\n  cursor: none;\\n}\\n*::-webkit-scrollbar-thumb:hover {\\n  background: #555;\\n  cursor: none;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/stylus-loader/index.js??ref--5-2!./index.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/stylus-loader/index.js??ref--5-2!./index.styl\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/stylus-loader/index.js??ref--5-2!./index.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import * as _window from \"./window\";\r\nimport {reducer as loadingReducer} from \"./loading\";\r\nimport {reducer as taskbarUpdateReducer} from \"./taskbar-update\";\r\n\r\nimport {render} from \"./render\";\r\nimport {init} from \"./init\";\r\nimport {createStore} from \"./store\";\r\n\r\nexport {_window as window}\r\n\r\nexport function reducer(state, action){\r\n\tstate = loadingReducer(state, action);\r\n\tstate = taskbarUpdateReducer(state, action);\r\n\treturn state;\r\n}\r\n\r\n\r\nexport const store = createStore();\r\ninit(store);\r\nrender(store);\r\n\r\ndeclare let _App: Array<string>;\r\n\r\nexport function getApp(appId) {\r\n\tconsole.log(appId);\r\n}","import loadApplications from \"./load-applications\";\r\n\r\nexport function init(store){\r\n\tstore.dispatch({\r\n\t\ttype: 'loading',\r\n\t\tname: 'applications',\r\n\t})\r\n\tstore.dispatch({\r\n\t\ttype: 'loading',\r\n\t\tname: 'delay',\r\n\t})\r\n\t\r\n\tsetTimeout(() => {\r\n\t\tstore.dispatch({\r\n\t\t\ttype: 'loaded',\r\n\t\t\tname: 'delay',\r\n\t\t})\r\n\t}, 1000);\r\n\t\r\n\tloadApplications().then(function(apps){\r\n\t\tstore.dispatch({\r\n\t\t\ttype: 'Applications.loaded',\r\n\t\t\tlist: apps\r\n\t\t})\r\n\t\r\n\t\tstore.dispatch({\r\n\t\t\ttype: 'loaded',\r\n\t\t\tname: 'applications',\r\n\t\t})\r\n\t});\r\n\t\r\n}","import * as apps from \"@apps\";\r\n\r\nimport {getApp} from \"@system\";\r\n\r\n// declare  var __Apps: any\r\n\r\n// let apps = __Apps;\r\n\r\nexport default function(){\r\n\tvar promise = new Promise(function(resolve, reject){\r\n\t\tsetTimeout( () => resolve([apps.calculator]), 10 );\r\n\t});\r\n\r\n\treturn promise;\r\n}","var loadingComponents = [];\r\n\r\nexport function reducer(state:any = {}, action){\r\n\tswitch(action.type){\r\n\t\tcase 'loading':\r\n\t\t\tloadingComponents.push(action.name);\r\n\t\tbreak;\r\n\t\tcase 'loaded':\r\n\t\t\tloadingComponents = loadingComponents.filter( item => (item != action.name));\r\n\t\tbreak;\r\n\t\tdefault: return state;\r\n\t}\r\n\tif(!state.System) state.System = {};\r\n\tif(loadingComponents.length){\r\n\t\tstate.System.loading = true;\r\n\t} else {\r\n\t\tstate.System.loading = false;\r\n\t}\r\n\tdocument.documentElement.classList[ state.System.loading ? 'add' : 'remove' ]('document-loading');\r\n\tdocument.documentElement.classList[ !state.System.loading ? 'add' : 'remove' ]('document-loaded');\r\n\treturn state;\r\n}","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport { Provider } from 'react-redux'\r\n\r\nimport Layout from \"@components/Layout/index\";\r\nimport \"./index.styl\";\r\n\r\nexport function render(store){\r\n\tReactDOM.render(\r\n\t\t<Provider store={store}>\r\n\t\t\t<Layout />\r\n\t\t</Provider>,\r\n\t\tdocument.getElementById(\"App\")\r\n\t);\r\n}","import { createStore as _createStore } from 'redux'\r\n\r\nimport {reducer as LayoutReducer} from \"@components/Layout/index\";\r\nimport {reducer as systemReducer} from \"./\"\r\n\r\nexport function createStore(){\r\n\tconst store = _createStore(function(state:any, action){\r\n\t\tstate = {...systemReducer(state, action)};\r\n\t\tstate = {...LayoutReducer(state, action)};\r\n\t\treturn state;\r\n\t});\r\n\t\r\n\tObject.assign(window, {\r\n\t\t__store: store,\r\n\t})\r\n\treturn store;\r\n}","import { getActionName as getWindowsManagerActionName, actions as windoactionsActions } from \"@components/WindowsManager\";\r\nimport { setListInState as taskbarSetListInState, getListFromState as taskbarGetListFromState} from \"@components/Taskbar\";\r\nimport { sortByKey } from \"@utils\";\r\n\r\nexport function reducer(state, action){\r\n\tswitch(action.type){\r\n\t\tcase 'Applications.loaded':\r\n\t\tcase getWindowsManagerActionName('countChanged'):\r\n\t\t\tvar list = taskbarGetListFromState(state);\r\n\t\t\tif( action.type == 'Applications.loaded' ){\r\n\t\t\t\tconsole.log('action.list', action.list)\r\n\t\t\t\tlist = list.filter( item => item.typeShutcut != 'app' ).concat(\r\n\t\t\t\t\taction.list.map(function(item){\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\ttypeShutcut: 'app',\r\n\t\t\t\t\t\t\tid: item.appInfo.uid,\r\n\t\t\t\t\t\t\tcall: item.call,\r\n\t\t\t\t\t\t\tappInfo: item.appInfo,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).sort(sortByKey('id'))\r\n\t\t\t\t)\r\n\t\t\t} else {\r\n\t\t\t\tlist = list.filter( item => item.typeShutcut != 'window' ).concat(\r\n\t\t\t\t\taction.list.map(function(item){\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\ttypeShutcut: 'window',\r\n\t\t\t\t\t\t\tid: item.id + ':' + item.appInfo.uid,\r\n\t\t\t\t\t\t\tcall: function(){\r\n\t\t\t\t\t\t\t\twindoactionsActions.focus(item.id);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tappInfo: item.appInfo,\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).sort(sortByKey('id'))\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tstate = taskbarSetListInState(list, state);\r\n\t\tbreak;\r\n\t}\r\n\r\n\t// Taskbar.add\r\n\r\n\treturn state;\r\n}","import {store} from \"@system/index\";\r\nimport {defaultWindowProps, IProps, IPropsInstanceNoStrict} from \"@components/Window\";\r\nimport {actions as WindowsManagerActions} from \"@components/WindowsManager\";\r\nimport {ILayoutStateElements} from \"@components/Layout/interfaces\";\r\nimport {IAppInfo} from \"@interfaces\";\r\n\r\nexport function open(content, options:IPropsInstanceNoStrict = defaultWindowProps, callback = function(windowId){}) {\r\n\tWindowsManagerActions.open({\r\n\t\toptions: options,\r\n\t\tcontent: content,\r\n\t\tcallback: callback,\r\n\t})\r\n}\r\n\r\nexport function getContentState(): ILayoutStateElements{\r\n\treturn store.getState().Layout.window;\r\n}\r\n\r\nexport function getOpenedApps(): {windowId: string, appInfo: IAppInfo}[] {\r\n\treturn store.getState().WindowsManager.opened.map(function(window){\r\n\t\treturn {\r\n\t\t\twindowId: window.id,\r\n\t\t\tappInfo: window.appInfo,\r\n\t\t}\r\n\t});\r\n}"],"sourceRoot":""}