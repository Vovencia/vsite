{"version":3,"sources":["webpack:///./components/Cursor/index.styl","webpack:///./components/ControlBar/index.tsx","webpack:///./components/ControlBar/styles.ts","webpack:///./components/ControlBar/time.tsx","webpack:///./components/Cursor/index.styl?36dd","webpack:///./components/Cursor/index.tsx","webpack:///./components/Cursor/style.ts","webpack:///./components/Layout/index.tsx","webpack:///./components/Layout/styles.ts","webpack:///./components/ScrolledContent/index.tsx","webpack:///./components/ScrolledContent/styles.ts","webpack:///./components/Taskbar/index.tsx","webpack:///./components/Taskbar/styles.ts","webpack:///./components/Window/boundsManager.ts","webpack:///./components/Window/index.tsx","webpack:///./components/Window/interfaces.ts","webpack:///./components/Window/methods.ts","webpack:///./components/Window/render.tsx","webpack:///./components/Window/styles.ts","webpack:///./components/WindowContent/index.tsx","webpack:///./components/WindowsManager/actions.ts","webpack:///./components/WindowsManager/index.tsx","webpack:///./components/WindowsManager/methods.ts","webpack:///./components/WindowsManager/reducer.ts","webpack:///./components/WindowsManager/reducerMethods.ts"],"names":[],"mappings":"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","file":"app/components.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"html {\\n  cursor: none;\\n}\\n*:not(.get-cursor) {\\n  cursor: none !important;\\n}\\n\", \"\"]);\n\n// exports\n","import * as React from \"react\";\r\nimport {div} from \"@utils\";\r\n\r\nimport Time from \"./time\";\r\n\r\nexport class ControlBar extends React.Component {\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div {...this.props}>\r\n\t\t\t\t<RightPanel>\r\n\t\t\t\t\t<StyledTime />\r\n\t\t\t\t</ RightPanel>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nlet {\r\n\tSelf: StyledControlBar,\r\n\tRightPanel,\r\n\tTime: StyledTime\r\n} = require(\"./styles.ts\").default(ControlBar, {\r\n\tRightPanel: div(\"ControlBar_RightPanel\"),\r\n\tTime: Time,\r\n});\r\n\r\nexport default StyledControlBar;","import {_styled as _, styled} from \"@utils\";\r\n\r\nexport default function(obj, {RightPanel, Time, ...children}){\r\n\treturn {\r\n\t\t...children,\r\n\t\tSelf: styled(obj)`\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-grow: 0;\r\n\t\t\tflex-shrink: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 20rem;\r\n\t\t\tcolor: #fff;\r\n\t\t\tbackground: rgba(0, 0, 0, 0.5);\r\n\t\t`,\r\n\t\tRightPanel: styled(RightPanel)`\r\n\t\t\tdisplay: flex;\r\n\t\t\tmargin-left: auto;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 0 5rem;\r\n\t\t`,\r\n\t\tTime: styled(Time)`\r\n\t\t\tfont-size: 12rem;\r\n\t\t\tfont-weight: 300;\r\n\t\t`\r\n\t}\r\n}","import * as React from \"react\";\r\n\r\nexport default class Time extends React.Component<null, {\r\n\tformattedTime: string;\r\n}> {\r\n\tprivate interval;\r\n\tprivate delay = 200;\r\n\r\n\tcomponentWillMount(){ this.interval = setInterval(this.tick.bind(this), this.delay); this.tick(); }\r\n\tcomponentWillUnmount(){ clearInterval(this.interval); }\r\n\ttick(){\r\n\t\tthis.setState({\r\n\t\t\tformattedTime: this.getFormatTime(),\r\n\t\t});\r\n\t}\r\n\tgetTime(){\r\n\t\tvar dateTime = new Date(Date.now());\r\n\r\n\t\treturn {\r\n\t\t\thour: dateTime.getHours(),\r\n\t\t\tminutes: dateTime.getMinutes(),\r\n\t\t\tseconds: dateTime.getSeconds(),\r\n\t\t};\r\n\t}\r\n\tgetFormatTime(){\r\n\t\tvar time = this.getTime();\r\n\r\n\t\treturn `${ (\"00\" + time.hour).slice(-2) }:${ (\"00\" + time.minutes).slice(-2) }`;\r\n\t}\r\n\trender (){\r\n\t\treturn (\r\n\t\t\t<div {...this.props}>{ this.state.formattedTime }</div>\r\n\t\t)\r\n\t}\r\n}","\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/stylus-loader/index.js??ref--5-2!./index.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/stylus-loader/index.js??ref--5-2!./index.styl\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/stylus-loader/index.js??ref--5-2!./index.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import * as React from \"react\";\r\nimport * as ReactDOM from 'react-dom';\r\nimport \"./index.styl\";\r\nconst Snap = require('snapsvg');\r\n\r\nconst cursors = require('!svg-inline-loader!@assets/images/cursors/cursors.svg');\r\ninterface ICursorState {\r\n\tmouseX: Number,\r\n\tmouseY: Number,\r\n\tcursor: String,\r\n\tmouseState: Object,\r\n}\r\n\r\nclass Cursor extends React.Component<null, ICursorState> {\r\n\tprivate cursorsHTML: SVGElement;\r\n\tprivate cursorRef: React.RefObject<HTMLDivElement>;\r\n\tprivate snapCursor: Snap.Element;\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.checkCursor \t= this.checkCursor.bind(this);\r\n\r\n\t\tthis.handlerMouseMove \t= this.handlerMouseMove.bind(this);\r\n\r\n\t\tthis.handlerMouseOut \t= this.handlerMouseOut.bind(this);\r\n\r\n\t\tthis.handlerMouseDown \t= this.handlerMouseDown.bind(this);\r\n\t\tthis.handlerMouseUp \t= this.handlerMouseUp.bind(this);\r\n\r\n\t\tthis.handlerDragStart \t= this.handlerDragStart.bind(this);\r\n\t\tthis.handlerDragEnd \t= this.handlerDragEnd.bind(this);\r\n\t\tthis.handlerDrag \t= this.handlerDrag.bind(this);\r\n\r\n\t\tthis.cursorRef = React.createRef<HTMLDivElement>();\r\n\r\n\t\tlet tempDiv = document.createElement('div');\r\n\r\n\t\ttempDiv.innerHTML = cursors;\r\n\t\tthis.cursorsHTML = tempDiv.children[0] as SVGElement;\r\n\r\n\t\tthis.snapCursor = Snap(this.cursorsHTML);\r\n\r\n\t\tthis.state = {\r\n\t\t\tmouseX: null,\r\n\t\t\tmouseY: null,\r\n\t\t\tcursor: 'default',\r\n\t\t\tmouseState: {}\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tlet styles:CSSStyleDeclaration = {} as CSSStyleDeclaration;\r\n\t\t\r\n\r\n\t\tif( this.state.mouseX != null ){ styles.left = this.state.mouseX + 'px'; }\r\n\t\tif( this.state.mouseY != null ){ styles.top = this.state.mouseY + 'px'; }\r\n\t\r\n\t\tvar attrs = {\r\n\t\t\t...this.props,\r\n\t\t\t'style': styles as object,\r\n\t\t\t'data-cursor': this.state.cursor,\r\n\t\t\t'data-state': this.getMouseState()\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div ref={this.cursorRef} {...attrs} ></div>\r\n\t\t);\r\n\t}\r\n\tcomponentDidUpdate(){\r\n\t\tlet newCursor = this.cursorRef.current.querySelector('#' + this.state.cursor);\r\n\t\tif(!newCursor) newCursor = this.cursorRef.current.querySelector('#default');\r\n\r\n\t\tconst newCursorD = newCursor.getAttribute('d');\r\n\r\n\t\tthis.snapCursor.select('#cursor').animate({\r\n\t\t\td: newCursorD,\r\n\t\t}, 150, mina.easeinout);\r\n\r\n\t\t// cursor.setAttribute('d', newCursor.getAttribute('d'));\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tthis.cursorRef.current.appendChild( this.cursorsHTML );\r\n\r\n\t\tdocument.addEventListener('mouseover', this.checkCursor);\r\n\t\tdocument.addEventListener('mousedown', this.checkCursor);\r\n\t\tdocument.addEventListener('mouseup', this.checkCursor);\r\n\r\n\t\tdocument.addEventListener('mousemove', this.handlerMouseMove);\r\n\t\twindow.addEventListener('drag' , this.handlerMouseMove);\r\n\r\n\t\tdocument.addEventListener('mouseout' , this.handlerMouseOut);\r\n\r\n\t\twindow.addEventListener('mousedown' , this.handlerMouseDown);\r\n\t\twindow.addEventListener('mouseup' , this.handlerMouseUp);\r\n\t\twindow.addEventListener('dragend' , this.handlerMouseUp);\r\n\r\n\t\twindow.addEventListener('dragstart' , this.handlerDragStart);\r\n\t\twindow.addEventListener('dragend' , this.handlerDragEnd);\r\n\t\twindow.addEventListener('drag' , this.handlerDrag);\r\n\t}\r\n\tcomponentWillUnmount(){\r\n\t\tdocument.removeEventListener('mouseover', this.checkCursor);\r\n\t\tdocument.removeEventListener('mousedown', this.checkCursor);\r\n\t\tdocument.removeEventListener('mouseup', this.checkCursor);\r\n\r\n\t\tdocument.removeEventListener('mousemove', this.handlerMouseMove);\r\n\t\twindow.removeEventListener('drag' , this.handlerMouseMove);\r\n\r\n\t\tdocument.removeEventListener('mouseout' , this.handlerMouseOut);\r\n\r\n\t\twindow.removeEventListener('mousedown' , this.handlerMouseDown);\r\n\t\twindow.removeEventListener('mouseup' , this.handlerMouseUp);\r\n\t\twindow.removeEventListener('dragend' , this.handlerMouseUp);\r\n\r\n\t\twindow.removeEventListener('dragstart' , this.handlerDragStart);\r\n\t\twindow.removeEventListener('dragend' , this.handlerDragEnd);\r\n\t\twindow.removeEventListener('drag' , this.handlerDrag);\r\n\t}\r\n\tcheckCursor(event){\r\n\t\tlet targets = event.path;\r\n\t\tlet cursor = \"\";\r\n\r\n\t\tfor( let target of targets ){\r\n\t\t\tif(!target.computedStyleMap) continue;\r\n\t\t\ttarget.classList.add('get-cursor');\r\n\t\t\tlet _cursor = target.computedStyleMap().get(\"cursor\").value;\r\n\t\t\t_cursor = _cursor.replace(/^-.+?-/, '');\r\n\t\t\ttarget.classList.remove('get-cursor');\r\n\t\t\tswitch (_cursor) {\r\n\t\t\t\tcase 'none':\r\n\t\t\t\tcase '':\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tcursor = _cursor;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tif( !cursor ) cursor = \"default\";\r\n\r\n\t\tthis.setState({\r\n\t\t\tcursor: cursor,\r\n\t\t})\r\n\t}\r\n\thandlerMouseOut(event){\r\n\t\t// event.target.classList.remove('no-cursor');\r\n\t}\r\n\thandlerMouseMove(event){\r\n\r\n\t\tthis.setState({\r\n\t\t\tmouseX: event.clientX,\r\n\t\t\tmouseY: event.clientY,\r\n\t\t})\r\n\t}\r\n\thandlerMouseDown(event){\r\n\t\tevent.preventDefault();\r\n\t\tthis.setState({\r\n\t\t\tmouseState: {...this.state.mouseState, active: true},\r\n\t\t})\r\n\t}\r\n\thandlerMouseUp(){\r\n\t\tthis.setState({\r\n\t\t\tmouseState: {...this.state.mouseState, active: false},\r\n\t\t})\r\n\t}\r\n\thandlerDragStart(){\r\n\t\tthis.setState({\r\n\t\t\tmouseState: {...this.state.mouseState, drag: true},\r\n\t\t})\r\n\t}\r\n\thandlerDragEnd(){\r\n\t\tthis.setState({\r\n\t\t\tmouseState: {...this.state.mouseState, drag: false},\r\n\t\t})\r\n\t}\r\n\thandlerDrag(event){\r\n\t}\r\n\tgetMouseState(): string{\r\n\t\tvar result = [];\r\n\t\tfor(var key in this.state.mouseState){\r\n\t\t\tif( this.state.mouseState[key] ){\r\n\t\t\t\tresult.push(key);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\" \");\r\n\t}\r\n}\r\n\r\nexport default require(\"./style.ts\").default(Cursor);","import {styled} from \"@utils\";\r\n\r\nexport default function StylesCursor(Cursor) {\r\n\treturn styled(Cursor)`\r\n\t\tposition: fixed;\r\n\t\tpointer-events: none;\r\n\t\tcolor: #20efa4;\r\n\t\tz-index: 1000;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\tsvg {\r\n\t\t\tdisplay: block;\r\n\t\t\twidth: 40rem;\r\n\t\t\theight: 40rem;\r\n\t\t\tcolor: #20efa4;\r\n\t\t\tfill: currentColor;\r\n\t\t\tstroke: currentColor;\r\n\t\t\tstroke-width: 0;\r\n\t\t\tz-index: 1;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: -20rem;\r\n\t\t\tleft: -20rem;\r\n\t\t\ttransition: color 0.3s;\r\n\t\t\ttransition-property: color, transform;\r\n\t\t\ttransform-origin: center center;\r\n\t\t\t#cursor {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t}\r\n\t\t\t*:not(#cursor) {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}\r\n\t\t}\r\n\t\t&[data-cursor=\"pointer\"] {\r\n\t\t\tsvg {\r\n\t\t\t\tcolor: #efe120;\r\n\t\t\t}\r\n\t\t}\r\n\t\t&[data-state*=\"active\"] {\r\n\t\t\tsvg {\r\n\t\t\t\ttransform: scale(0.8)\r\n\t\t\t}\r\n\t\t}\r\n\t`\r\n}","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {ILayoutProps, ILayoutDispatchProps, ILayoutState} from \"./interfaces\";\r\n\r\nimport {div} from \"@utils\";\r\n\r\nimport Cursor from \"@components//Cursor\";\r\nimport WindowsManager from \"@components/WindowsManager\";\r\n\r\nimport ControlBar from \"@components/ControlBar\";\r\nimport TaskBar, {reducer as TaskBarReducer} from \"@components/Taskbar\";\r\n\r\nimport { reducersManager } from \"@system\";\r\n\r\nexport const layoutRef = React.createRef<HTMLDivElement>();\r\n\r\nclass Layout extends React.Component<ILayoutProps & ILayoutDispatchProps> {\r\n\tprivate window: React.RefObject<HTMLDivElement>;\r\n\tprivate content: React.RefObject<HTMLDivElement>;\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.onResize = this.onResize.bind(this);\r\n\t\tthis.window = React.createRef();\r\n\t\tthis.content = React.createRef();\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className={this.props.className} ref={layoutRef}>\r\n\t\t\t\t<Cursor />\r\n\t\t\t\t\r\n\t\t\t\t{ !this.props.loading && this.renderContent() }\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\twindow.addEventListener('resize', this.onResize);\r\n\t}\r\n\tcomponentDidUpdate(){\r\n\t\tthis.onResize();\r\n\t}\r\n\tcomponentWillUnmount(){\r\n\t\twindow.removeEventListener('resize', this.onResize);\r\n\t}\r\n\trenderContent(){\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Container elementRef={this.window}>\r\n\t\t\t\t\t<ContainerColumn>\r\n\t\t\t\t\t\t<ControlBar />\r\n\t\t\t\t\t\t<ContainerRow elementRef={this.content}>\r\n\t\t\t\t\t\t\t<TaskBar />\r\n\t\t\t\t\t\t\t<Content />\r\n\t\t\t\t\t\t</ContainerRow>\r\n\t\t\t\t\t</ContainerColumn>\r\n\t\t\t\t</Container>\r\n\t\t\t\t<WindowsManager opened={[]} />\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n\tonResize(){\r\n\t\tthis.props.setLayoutState({\r\n\t\t\twindow: {\r\n\t\t\t\twidth\t: this.window.current.offsetWidth,\r\n\t\t\t\theight\t: this.window.current.offsetHeight,\r\n\t\t\t\tx\t\t: this.window.current.offsetLeft,\r\n\t\t\t\ty\t\t: this.window.current.offsetTop,\r\n\t\t\t},\r\n\t\t\tcontent: {\r\n\t\t\t\twidth\t: this.content.current.offsetWidth,\r\n\t\t\t\theight\t: this.content.current.offsetHeight,\r\n\t\t\t\tx\t\t: this.content.current.offsetLeft,\r\n\t\t\t\ty\t\t: this.content.current.offsetTop,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n}\r\n\r\n\r\nlet {\r\n\tSelf: StyledLayout,\r\n\tContainer,\r\n\tContent,\r\n\tContainerColumn,\r\n\tContainerRow,\r\n} = require('./styles.ts').default(Layout, {\r\n\tContainer: div(\"Layout_Container\"),\r\n\tContainerColumn: div(\"Layout_Column\"),\r\n\tContainerRow: div(\"Layout_Row\"),\r\n\tContent: div(\"Layout_Content\")\r\n});\r\n\r\nvar ConnectedStyledLayout = connect<ILayoutProps, ILayoutDispatchProps, any>(function mapStateToProps(state: any, ownProps){\r\n\treturn {\r\n\t\tloading: !!state.System.loading,\r\n\t}\r\n}, function mapDispatchToProps(dispatch){\r\n\treturn {\r\n\t\tsetLayoutState(size){\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'Layout.setLayoutState',\r\n\t\t\t\t...size,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n})(StyledLayout);\r\n\r\n\r\nexport default ConnectedStyledLayout;\r\n\r\nreducersManager.addLocalReducer('Layout', function(state: ILayoutState, action){\r\n\tif(!state || !state.window){\r\n\t\tstate = {\r\n\t\t\t...state,\r\n\t\t\twindow: {\r\n\t\t\t\twidth\t: 0,\r\n\t\t\t\theight\t: 0,\r\n\t\t\t\tx\t\t: 0,\r\n\t\t\t\ty\t\t: 0,\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n\tif(!state || !state.content){\r\n\t\tstate = {\r\n\t\t\t...state,\r\n\t\t\tcontent: {\r\n\t\t\t\twidth\t: 0,\r\n\t\t\t\theight\t: 0,\r\n\t\t\t\tx\t\t: 0,\r\n\t\t\t\ty\t\t: 0,\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n\tswitch(action.type){\r\n\t\tcase 'Layout.setLayoutState':\r\n\t\t\tstate = {\r\n\t\t\t\t...state,\r\n\t\t\t\twindow: {\r\n\t\t\t\t\t...state.window,\r\n\t\t\t\t\t...action.window,\r\n\t\t\t\t},\r\n\t\t\t\tcontent: {\r\n\t\t\t\t\t...state.content,\r\n\t\t\t\t\t...action.content,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\tbreak;\r\n\t}\r\n\treturn state;\r\n})\r\nreducersManager.addLocalReducer('Taskbar', TaskBarReducer);","import {_styled as _, styled} from \"@utils\";\r\n\r\nexport default function(obj, {Container, Content, ContainerColumn, ContainerRow,...children}){\r\n\treturn {\r\n\t\t...children,\r\n\r\n\t\tSelf: styled(obj)`\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\tflex-grow: 1;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t`,\r\n\t\tContainer: styled(Container)`\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\tflex-grow: 1;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t`,\r\n\t\tContent: styled(Content)`\r\n\t\t\tflex-grow: 1;\r\n\t\t`,\r\n\t\tContainerColumn: styled(ContainerColumn)`\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tflex-grow: 1;\r\n\t\t`,\r\n\t\tContainerRow: styled(ContainerRow)`\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tflex-grow: 1;\r\n\t\t`\r\n\r\n\t}\r\n}","import * as React from \"react\";\r\n\r\nimport {div} from \"@utils\";\r\n\r\nclass ScrolledContent extends React.PureComponent<{\r\n\r\n}, {\r\n\tscrollArea: number;\r\n\tcontentHeight: number;\r\n\tcontentTop: number;\r\n\tbarHeight: number;\r\n\tbarTop: number;\r\n}> {\r\n\tprivate self: React.RefObject<HTMLDivElement>;\r\n\tprivate content: React.RefObject<HTMLDivElement>;\r\n\tprivate track: React.RefObject<HTMLDivElement>;\r\n\tprivate bar: React.RefObject<HTMLDivElement>;\r\n\tprivate contentTop: number;\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.self = React.createRef();\r\n\t\tthis.content = React.createRef();\r\n\t\tthis.track = React.createRef();\r\n\t\tthis.bar = React.createRef();\r\n\t\tthis.onResize = this.onResize.bind(this);\r\n\t\tthis.state = {\r\n\t\t\tscrollArea: 0,\r\n\t\t\tcontentHeight: 1,\r\n\t\t\tcontentTop: 0,\r\n\t\t\tbarHeight: 1,\r\n\t\t\tbarTop: 0,\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tvar attrs = {...this.props}\r\n\t\tdelete attrs.children;\r\n\r\n\t\tlet barStyles = {\r\n\t\t\theight: ((this.state.barHeight * 100) + '%'),\r\n\t\t\ttop: ((this.state.barTop * 100) + '%'),\r\n\t\t}\r\n\r\n\t\tvar isVisible = !({0: true, 1: true}[this.state.barHeight]);\r\n\r\n\t\treturn (\r\n\t\t\t<div ref={this.self} {...attrs}>\r\n\t\t\t\t<Content style={{top: -this.state.contentTop + 'px'}} elementRef={ this.content } onWheel={ this.handlerOnWheel.bind(this) }>\r\n\t\t\t\t\t{ this.props.children }\r\n\t\t\t\t</Content>\r\n\t\t\t\t<Track style-isVisible={ isVisible } elementRef={ this.track }>\r\n\t\t\t\t\t<Bar elementRef={ this.bar } style={barStyles} />\r\n\t\t\t\t</Track>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\tcalcScrollState(addTop:number = 0){\r\n\t\tvar windowHeight = this.self.current.offsetHeight;\r\n\t\tvar contentHeight = this.content.current.offsetHeight;\r\n\t\tvar contentTop = this.contentTop + addTop;\r\n\t\tif( contentTop < 0 ) contentTop = 0;\r\n\t\tif( contentTop > contentHeight - windowHeight ) contentTop = contentHeight - windowHeight;\r\n\r\n\t\tthis.contentTop = contentTop;\r\n\r\n\t\tvar barHeight = ((windowHeight/contentHeight) || 1);\r\n\t\tvar barTop = ((contentTop/contentHeight) || 0);\r\n\r\n\t\twindowHeight = (windowHeight/contentHeight);\r\n\r\n\t\treturn {\r\n\t\t\tscrollArea: contentHeight - windowHeight,\r\n\t\t\tcontentHeight,\r\n\t\t\tcontentTop,\r\n\t\t\tbarHeight,\r\n\t\t\tbarTop,\r\n\t\t}\r\n\t}\r\n\tsetScrollState(state){\r\n\t\tif( state.barTop + state.barHeight > 1 ){\r\n\t\t\tstate.barTop = 1 - state.barHeight;\r\n\t\t}\r\n\t\tif( state.barTop < 0 ) state.barTop = 0;\r\n\t\tthis.setState(state);\r\n\t}\r\n\tscroll(value){\r\n\t\tvar state = this.calcScrollState(value);\r\n\t\tthis.setScrollState(state);\r\n\t}\r\n\thandlerOnWheel(event){\r\n\t\tthis.scroll(event.deltaY);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\twindow.addEventListener('resize', this.onResize);\r\n\r\n\t\tthis.contentTop = -(parseFloat(window.getComputedStyle( this.content.current ).top) || 0);\r\n\t\tthis.update();\r\n\t}\r\n\tcomponentWillUnmount(){\r\n\t\twindow.removeEventListener('resize', this.onResize);\r\n\t}\r\n\tcomponentDidUpdate(){\r\n\t\tthis.update();\r\n\t}\r\n\tupdate(){\r\n\t\tthis.setScrollState( this.calcScrollState() );\r\n\t}\r\n\tonResize(){\r\n\t\tthis.update();\r\n\t}\r\n}\r\n\r\n\r\nlet {\r\n\tSelf: StyledScrolledContent,\r\n\tContent,\r\n\tTrack,\r\n\tBar,\r\n} = require(\"./styles.ts\").default(ScrolledContent, {\r\n\tContent: div(\"ScrolledContent_Content\"),\r\n\tTrack: div(\"ScrolledContent_Track\"),\r\n\tBar: div(\"ScrolledContent_Bar\"),\r\n})\r\n\r\nexport default StyledScrolledContent;","import {styled} from \"@utils\";\r\n\r\n\r\nexport default function(obj, {Content, Track,Bar, ...children}){\r\n\treturn {\r\n\t\t...children,\r\n\t\tSelf: styled(obj)`\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tflex-grow: 1;\r\n\t\t\tflex-shrink: 1;\r\n\t\t\toverflow: hidden;\r\n\t\t\tposition: relative;\r\n\t\t`,\r\n\t\tContent: styled(Content)`\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tflex-grow: 1;\r\n\t\t\tflex-shrink: 0;\r\n\t\t\tposition: relative;\r\n\t\t\ttransition: top 0.3s;\r\n\t\t`,\r\n\t\tTrack: styled(Track)`\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\tright: 0;\r\n\t\t\twidth: 5rem;\r\n\t\t\tdisplay: ${ props => (props['style-isVisible'] ? 'block' : 'none') };\r\n\t\t`,\r\n\t\tBar: styled(Bar)`\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground: rgba(0, 0, 0, 0.3);\r\n\t\t\tborder-radius: 10rem;\r\n\t\t\ttransition: top 0.3s;\r\n\t\t`\r\n\t}\r\n}","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport ScrolledContent from \"@components/ScrolledContent\";\r\n\r\nimport {div, el, attrs} from \"@utils\";\r\nimport {store} from \"@system/index\";\r\n\r\nclass TaskBar extends React.Component <any> {\r\n\trender () {\r\n\t\treturn (\r\n\t\t\t<div {...attrs(this.props)}>\r\n\t\t\t\t<Content>\r\n\t\t\t\t\t<ScrolledContent>\r\n\t\t\t\t\t\t{ this.props.apps.map(this.renderItem.bind(this)) }\r\n\t\t\t\t\t</ScrolledContent>\r\n\t\t\t\t</Content>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\thandlerItemClick (app, event){\r\n\t\tevent.preventDefault();\r\n\t\tif( app.call ) app.call();\r\n\t}\r\n\trenderItem(app){\r\n\t\treturn (\r\n\t\t\t<Item\r\n\t\t\t\tStates={ app.states }\r\n\t\t\t\ttypeShutcut={ app.typeShutcut }\r\n\t\t\t\tonClick={ this.handlerItemClick.bind(this, app) }\r\n\t\t\t\ttitle={app.appInfo.name} key={app.id}\r\n\t\t\t>\r\n\t\t\t\t<img src={ app.appInfo.icon } alt=\"\"/>\r\n\t\t\t</Item>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nlet {\r\n\tSelf: StyledTaskBar,\r\n\tContent,\r\n\tItem,\r\n} = require(\"./styles.ts\").default(TaskBar, {\r\n\tContent: div(\"TaskBar_Content\"),\r\n\tItem: el(\"a\", \"TaskBar_Item\", {href: \"#\"}),\r\n})\r\n\r\n\r\nvar ConnectedStyledTaskBar = connect(function mapStateToProps(state: any, ownProps){\r\n\treturn {\r\n\t\tapps: state.Taskbar.apps,\r\n\t}\r\n}, function mapDispatchToProps(dispatch){\r\n\treturn {}\r\n})(StyledTaskBar);\r\n\r\n\r\nexport default ConnectedStyledTaskBar;\r\nexport function reducer(state: {\r\n\tapps: Array<{}>;\r\n} = {apps: []}, action){\r\n\tif( action.type.indexOf(\"Taskbar.\") !== 0 ) return state;\r\n\tvar type = action.type.replace(\"Taskbar.\", \"\");\r\n\r\n\tswitch(type){\r\n\t\tcase 'add':\r\n\t\t\tstate = {...state}\r\n\t\t\tstate.apps = state.apps.concat(action.list);\r\n\t\tbreak;\r\n\t}\r\n\treturn state\r\n}\r\n\r\nexport function setListInState (list, state){\r\n\tif( !state ) state = {};\r\n\tstate = {...state};\r\n\tif( !state.Taskbar ) state.Taskbar = {};\r\n\tstate.Taskbar = {...state.Taskbar};\r\n\tstate.Taskbar.apps = [].concat(list);\r\n\treturn state;\r\n}\r\n\r\nexport function getListFromState (state){\r\n\tif( state && state.Taskbar && state.Taskbar.apps ) return [].concat(state.Taskbar.apps);\r\n\treturn [];\r\n}","import {styled} from \"@utils\";\r\n\r\n\r\nexport default function (obj, {Content, Item, ...children}){\r\n\treturn {\r\n\t\t...children,\r\n\t\tSelf: styled(obj)`\r\n\t\t\twidth: 50rem;\r\n\t\t\tflex-grow: 0;\r\n\t\t\tflex-shrink: 1;\r\n\t\t\ttransition: left 0.3s;\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tjustify-content: center;\r\n\t\t\tmargin: 20rem 0;\r\n\t\t`,\r\n\t\tContent: styled(Content)`\r\n\t\t\twidth: 50rem;\r\n\t\t\tbackground: rgba(70, 70, 70, 0.5);\r\n\t\t\tborder-radius: 0 5rem 5rem 0;\r\n\t\t\tmax-height: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tpadding: 5rem 0;\r\n\t\t`,\r\n\t\tItem: styled(Item)`\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\twidth: 30rem;\r\n\t\t\theight: 30rem;\r\n\t\t\tmargin: 5rem auto;\r\n\t\t\ttransition: transform 0.3s;\r\n\t\t\tposition: relative;\r\n\t\t\timg,\r\n\t\t\tsvg {\r\n\t\t\t\tmax-width: 80%;\r\n\t\t\t\tmax-height: 80%;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t}\r\n\t\t\t&:hover {\r\n\t\t\t\ttransform: scale(1.1)\r\n\t\t\t}\r\n\t\t\t${props => {\r\n\t\t\t\tif( props['typeShutcut'] != 'window' ) return '';\r\n\t\t\t\treturn `\r\n\t\t\t\t\t&:after {\r\n\t\t\t\t\t\tcontent: '';\r\n\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tright: 0rem;\r\n\t\t\t\t\t\tbottom: 0rem;\r\n\t\t\t\t\t\twidth: 5rem;\r\n\t\t\t\t\t\theight: 5rem;\r\n\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\tbackground: ${ (props['States'] && props['States'].indexOf('inFocus') != -1) ? '#5f5' : '#ff5' };\r\n\t\t\t\t\t}\r\n\t\t\t\t`;\r\n\t\t\t}}\r\n\t\t`\r\n\t}\r\n}","import {IWindowInstanceProps} from \"./interfaces\"\r\nimport {\r\n\tIBounds, IBoundsStrict,\r\n\tISize, ISizeStrict,\r\n\tIPosition, IPositionStrict,\r\n\tIMaxSizeStrict,\r\n\tIMinSizeStrict,\r\n\tboundsDefault,\r\n\tsizeDefault,\r\n\tminSizeDefault,\r\n\tmaxSizeDefault,\r\n\tpositionDefault,\r\n} from \"@interfaces\";\r\n\r\nexport class BoundsManager {\r\n\tprivate state: ISizeStrict & IMinSizeStrict & IMaxSizeStrict & IPositionStrict = {\r\n\t\t...sizeDefault,\r\n\t\t...minSizeDefault,\r\n\t\t...maxSizeDefault,\r\n\t\t...positionDefault,\r\n\t};\r\n\r\n\tconstructor(window: IWindowInstanceProps) {\r\n\t\tfor(let key in this.state){\r\n\t\t\tthis.state[key] = window[key];\r\n\t\t}\r\n\t}\r\n\r\n\tsetBounds(bounds: IBounds){\r\n\t\tconst lastBounds: IBoundsStrict = this.getBounds();\r\n\t\tlet newBounds: IBoundsStrict = {\r\n\t\t\t...lastBounds,\r\n\t\t\t...bounds,\r\n\t\t}\r\n\t\tconst changed = {\r\n\t\t\tx1: lastBounds.x1 != newBounds.x1,\r\n\t\t\tx2: lastBounds.x2 != newBounds.x2,\r\n\t\t\ty1: lastBounds.y1 != newBounds.y1,\r\n\t\t\ty2: lastBounds.y2 != newBounds.y2,\r\n\t\t}\r\n\r\n\t\tconst maxSize = this.getMaxSize();\r\n\t\tconst minSize = this.getMinSize();\r\n\r\n\t\tconst sizeKeys = {\r\n\t\t\t'x': 'width',\r\n\t\t\t'y': 'height',\r\n\t\t};\r\n\t\tconst postKeys = ['x', 'y'];\r\n\r\n\t\tpostKeys.forEach(function(key){\r\n\t\t\tconst key1   = key + '1';\r\n\t\t\tconst key2   = key + '2';\r\n\t\t\tconst value1 = newBounds[key1];\r\n\t\t\tconst value2 = newBounds[key2];\r\n\t\t\tconst sizeKey = sizeKeys[key];\r\n\t\t\tconst changed2 = changed[key2] || (changed[key2] == changed[key1]);\r\n\t\t\tconst _minSize = minSize[sizeKey];\r\n\t\t\tconst _maxSize = maxSize[sizeKey];\r\n\r\n\t\t\tif( _minSize != null && _minSize >= 0 && ((value2 - value1) < _minSize) ){\r\n\t\t\t\tif( changed2 ){\r\n\t\t\t\t\tnewBounds[key2] = value1 + _minSize;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewBounds[key1] = value2 - _minSize;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif( _maxSize != null && _maxSize >= 0 && ((value2 - value1) > _maxSize) ){\r\n\t\t\t\tif( changed2 ){\r\n\t\t\t\t\tnewBounds[key2] = value1 + _maxSize;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewBounds[key1] = value2 - _maxSize;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif( newBounds[key1] > newBounds[key2] ){\r\n\t\t\t\tif( changed2 ){\r\n\t\t\t\t\tnewBounds[key2] = newBounds[key1];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewBounds[key1] = newBounds[key2];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.setState({\r\n\t\t\tx\t\t: newBounds.x1,\r\n\t\t\ty\t\t: newBounds.y1,\r\n\t\t\twidth\t: newBounds.x2 - newBounds.x1,\r\n\t\t\theight\t: newBounds.y2 - newBounds.y1,\r\n\t\t});\r\n\t}\r\n\tsetState(state){\r\n\t\tthis.state = {\r\n\t\t\t...this.state,\r\n\t\t\t...state,\r\n\t\t}\r\n\t}\r\n\tgetState(){\r\n\t\treturn this.state;\r\n\t}\r\n\tgetBounds(): IBoundsStrict {\r\n\t\treturn {\r\n\t\t\tx1: this.state.x,\r\n\t\t\ty1: this.state.y,\r\n\t\t\tx2: this.state.x + this.state.width,\r\n\t\t\ty2: this.state.y + this.state.height,\r\n\t\t}\r\n\t}\r\n\r\n\tsetSize(size: ISize){\r\n\t\tlet bounds = this.getBounds();\r\n\t\tif( size.width != null ){\r\n\t\t\tbounds = {\r\n\t\t\t\t...bounds,\r\n\t\t\t\tx2: bounds.x1 + size.width,\r\n\t\t\t}\r\n\t\t}\r\n\t\tif( size.height != null ){\r\n\t\t\tbounds = {\r\n\t\t\t\t...bounds,\r\n\t\t\t\ty2: bounds.y1 + size.height,\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setBounds(bounds)\r\n\t}\r\n\r\n\tsetPosition(position: IPosition){\r\n\t\tlet bounds = this.getBounds();\r\n\t\tconst size = this.getSize();\r\n\t\tif( position.x != null ){\r\n\t\t\tbounds = {\r\n\t\t\t\t...bounds,\r\n\t\t\t\tx1: position.x,\r\n\t\t\t\tx2: position.x + size.width,\r\n\t\t\t}\r\n\t\t}\r\n\t\tif( position.y != null ){\r\n\t\t\tbounds = {\r\n\t\t\t\t...bounds,\r\n\t\t\t\ty1: position.y,\r\n\t\t\t\ty2: position.y + size.height,\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.setBounds(bounds)\r\n\t}\r\n\r\n\tgetMaxSize(): ISizeStrict {\r\n\t\treturn {\r\n\t\t\twidth\t: this.state.maxWidth,\r\n\t\t\theight\t: this.state.maxHeight,\r\n\t\t}\r\n\t}\r\n\tgetMinSize(): ISizeStrict {\r\n\t\treturn {\r\n\t\t\twidth\t: this.state.minWidth,\r\n\t\t\theight\t: this.state.minHeight,\r\n\t\t}\r\n\t}\r\n\tgetSize(): ISizeStrict {\r\n\t\treturn {\r\n\t\t\twidth: this.state.width,\r\n\t\t\theight: this.state.height,\r\n\t\t}\r\n\t}\r\n\tgetPosition():IPositionStrict {\r\n\t\treturn {\r\n\t\t\tx: this.state.x,\r\n\t\t\ty: this.state.y,\r\n\t\t}\r\n\t}\r\n}","import {actions as WindowsManagerActions} from \"@components/WindowsManager\";\r\nimport {ISize, IPosition, IPositionStrict, IBounds} from\t\"@interfaces\";\r\nimport {positionToSize, sizeToPosition} from \"@utils\";\r\n\r\nimport {windowStates, windowPressState, windowBorderTypes} from \"./interfaces\";\r\n\r\nimport {documentAddClass, documentRemoveClass} from \"@system\";\r\n\r\nexport * from \"./interfaces\";\r\nexport * from \"./methods\";\r\nexport * from \"./boundsManager\";\r\n\r\nimport WindowRender from \"./render\";\r\n\r\n\r\nclass Window extends WindowRender {\r\n\tprotected pressed = windowPressState.None;\r\n\tprotected lastMousePosition: IPositionStrict;\r\n\tprotected currentBorderType: string;\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.handlerMouseMove = this.handlerMouseMove.bind(this);\r\n\t\tthis.handlerMouseUp = this.handlerMouseUp.bind(this);\r\n\t\tthis.handleGlobalClick = this.handleGlobalClick.bind(this);\r\n\t}\r\n\tcheckSizeValue(value: number | string){\r\n\t\tif(typeof value == 'number') return value + 'px';\r\n\t\treturn value;\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tif(this.props.state === windowStates.New){\r\n\t\t\tsetTimeout(() => WindowsManagerActions.show(this.props.id), 10);\r\n\t\t}\r\n\t\tdocument.documentElement.addEventListener('click', this.handleGlobalClick);\r\n\r\n\t\tdocument.documentElement.addEventListener('mousemove', this.handlerMouseMove);\r\n\t\tdocument.documentElement.addEventListener('mouseup', this.handlerMouseUp);\r\n\t}\r\n\tcomponentWillUnmount(){\r\n\t\tdocument.documentElement.removeEventListener('click', this.handleGlobalClick);\r\n\r\n\t\tdocument.documentElement.removeEventListener('mousemove', this.handlerMouseMove);\r\n\t\tdocument.documentElement.removeEventListener('mouseup', this.handlerMouseUp);\r\n\t}\r\n\thandleGlobalClick(event: MouseEvent){\r\n\t\tif( !this.props.inFocus ) return;\r\n\t\tlet parent = event.target as Element;\r\n\t\tdo {\r\n\t\t\tif( parent == this.boxRef.current ) return;\r\n\t\t} while ( (parent = parent.parentElement) && parent instanceof Element );\r\n\t\tthis.unfocus();\r\n\t\t\r\n\t}\r\n\thandlerOnPress(event){\r\n\t\tevent.preventDefault();\r\n\t\tthis.focus();\r\n\t}\r\n\thandlerHeaderOnPress(event){\r\n\t\tif( event.target != this.headerRef.current ) return;\r\n\t\tevent.preventDefault();\r\n\t\tthis.pressed = windowPressState.Header;\r\n\r\n\t\tdocumentAddClass('window__press--window-header');\r\n\r\n\t\tthis.lastMousePosition = {\r\n\t\t\tx: event.clientX,\r\n\t\t\ty: event.clientY,\r\n\t\t}\r\n\t}\r\n\thandlerResizeBorderPress(direction: windowBorderTypes, event){\r\n\t\tevent.preventDefault();\r\n\t\tthis.pressed = windowPressState.Border;\r\n\r\n\t\tdocumentAddClass('window__press--window-header');\r\n\r\n\t\tthis.lastMousePosition = {\r\n\t\t\tx: event.clientX,\r\n\t\t\ty: event.clientY,\r\n\t\t}\r\n\t\tthis.currentBorderType = direction;\r\n\t}\r\n\thandlerMouseUp(){\r\n\t\tthis.pressed = windowPressState.None;\r\n\r\n\t\tdocumentRemoveClass('window__press--window-header');\r\n\t\tdocumentRemoveClass('window__press--window-header');\r\n\t}\r\n\thandlerMouseMove(event){\r\n\t\tif(this.pressed == windowPressState.None) return;\r\n\r\n\t\tconst mouseMove = {\r\n\t\t\tx: event.clientX - this.lastMousePosition.x,\r\n\t\t\ty: event.clientY - this.lastMousePosition.y,\r\n\t\t}\r\n\t\t\r\n\t\tthis.lastMousePosition = {\r\n\t\t\tx: event.clientX,\r\n\t\t\ty: event.clientY,\r\n\t\t}\r\n\r\n\t\tswitch(this.pressed){\r\n\t\t\tcase windowPressState.Header:\r\n\t\t\t\tthis.onHeaderMove(mouseMove);\r\n\t\t\tbreak;\r\n\t\t\tcase windowPressState.Border:\r\n\t\t\t\tthis.onBorderMove(this.lastMousePosition);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\thandlerButtonControlClick(type, event){\r\n\t\tevent.preventDefault();\r\n\t\tswitch(type){\r\n\t\t\tcase 'close':\r\n\t\t\t\tthis.close();\r\n\t\t\tbreak;\r\n\t\t\tcase 'maximize':\r\n\t\t\t\tthis.setMaximize( !this.props.isMaximized );\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tonHeaderMove(mouseMove: IPositionStrict){\r\n\t\tthis.addPosition(mouseMove);\r\n\t}\r\n\tonBorderMove(mousePosition: IPositionStrict){\r\n\t\tlet xPosition = 0;\r\n\t\tlet yPosition = 0;\r\n\r\n\t\tswitch(this.currentBorderType){\r\n\t\t\tcase windowBorderTypes.Left:\r\n\t\t\t\txPosition = 1;\r\n\t\t\tbreak;\r\n\t\t\tcase windowBorderTypes.Right:\r\n\t\t\t\txPosition = 2;\r\n\t\t\tbreak;\r\n\t\t\tcase windowBorderTypes.Top:\r\n\t\t\t\tyPosition = 1;\r\n\t\t\tbreak;\r\n\t\t\tcase windowBorderTypes.Bottom:\r\n\t\t\t\tyPosition = 2;\r\n\t\t\tbreak;\r\n\t\t\tcase windowBorderTypes.LeftTop:\r\n\t\t\t\txPosition = 1;\r\n\t\t\t\tyPosition = 1;\r\n\t\t\tbreak;\r\n\t\t\tcase windowBorderTypes.LeftBottom:\r\n\t\t\t\txPosition = 1;\r\n\t\t\t\tyPosition = 2;\r\n\t\t\tbreak;\r\n\t\t\tcase windowBorderTypes.RightTop:\r\n\t\t\t\txPosition = 2;\r\n\t\t\t\tyPosition = 1;\r\n\t\t\tbreak;\r\n\t\t\tcase windowBorderTypes.RightBottom:\r\n\t\t\t\txPosition = 2;\r\n\t\t\t\tyPosition = 2;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tlet bounds = {};\r\n\t\tif( xPosition ){ bounds['x' + xPosition] = mousePosition.x; }\r\n\t\tif( yPosition ){ bounds['y' + yPosition] = mousePosition.y; }\r\n\t\tthis.setBounds(bounds);\r\n\t}\r\n\r\n\tsetBounds(bounds: IBounds){\r\n\t\tWindowsManagerActions.setBounds(this.props.id, bounds);\r\n\t}\r\n\r\n\tgetSize(){\r\n\t\treturn {\r\n\t\t\twidth: this.props.width,\r\n\t\t\theight: this.props.height,\r\n\t\t}\r\n\t}\r\n\tsetSize(size: ISize){\r\n\t\tWindowsManagerActions.setSize(this.props.id, size);\r\n\t}\r\n\taddSize(addSize: ISize){\r\n\t\tlet size = this.getSize();\r\n\t\tif(addSize.width) size.width += addSize.width;\r\n\t\tif(addSize.height) size.height += addSize.height;\r\n\t\tthis.setSize(size);\r\n\t}\r\n\tgetPosition(){\r\n\t\tlet position = {\r\n\t\t\tx: this.props.x || 0,\r\n\t\t\ty: this.props.y || 0,\r\n\t\t}\r\n\t\treturn position;\r\n\t}\r\n\tsetPosition(position){\r\n\t\tWindowsManagerActions.setPosition(this.props.id, {\r\n\t\t\tx: position.x,\r\n\t\t\ty: position.y,\r\n\t\t});\r\n\t}\r\n\taddPosition(addPosition){\r\n\t\tlet position = this.getPosition();\r\n\t\tif(addPosition.x) position.x += addPosition.x;\r\n\t\tif(addPosition.y) position.y += addPosition.y;\r\n\t\tthis.setPosition(position);\r\n\t}\r\n\tsetMaximize(isMaximize: boolean){\r\n\t\tWindowsManagerActions.setMaximize(this.props.id, isMaximize);\r\n\t}\r\n\tsetMinimize(isMinimize: boolean){\r\n\t\tWindowsManagerActions.setMinimize(this.props.id, isMinimize);\r\n\t}\r\n\tclose(){\r\n\t\tWindowsManagerActions.close(this.props.id);\r\n\t}\r\n\tfocus(){\r\n\t\tWindowsManagerActions.focus(this.props.id);\r\n\t}\r\n\tunfocus(){\r\n\t\tWindowsManagerActions.unfocus(this.props.id);\r\n\t}\r\n}\r\n\r\n\r\nlet StyledWindow = require('./styles').self(Window);\r\nexport default StyledWindow;","import {IAppInfo, Percent, IPositionRelativeX, IPositionRelativeY, IBoundsStrict} from \"@interfaces\";\r\n\r\nexport enum windowStates {\r\n\tNew \t\t= 0b0000001,\r\n\tMinimized \t= 0b0000010,\r\n\tNormal \t\t= 0b0000100,\r\n\tMaximized \t= 0b0001000,\r\n\tClosing\t\t= 0b0010000,\r\n\tisVisible\t= 0b0001100,\r\n\tisOpened\t= 0b0001111,\r\n}\r\n\r\nexport enum windowPressState {\r\n\tNone,\r\n\tHeader,\r\n\tBorder,\r\n}\r\n\r\nexport enum windowBorderTypes {\r\n\tTop\t\t\t\t= 'top',\r\n\tLeft\t\t\t= 'left',\r\n\tRight\t\t\t= 'right',\r\n\tBottom\t\t\t= 'bottom',\r\n\tLeftTop\t\t\t= 'left-top',\r\n\tLeftBottom\t\t= 'left-bottom',\r\n\tRightTop\t\t= 'right-top',\r\n\tRightBottom\t\t= 'right-bottom',\r\n}\r\n\r\n\r\nexport interface IWindowConstructorProps {\r\n\twidth\t\t\t?: number | Percent,\r\n\theight\t\t\t?: number | Percent,\r\n\tx\t\t\t\t?: number | Percent | IPositionRelativeX,\r\n\ty\t\t\t\t?: number | Percent | IPositionRelativeY,\r\n\tminWidth\t\t?: number,\r\n\tminHeight\t\t?: number,\r\n\tmaxWidth\t\t?: number,\r\n\tmaxHeight\t\t?: number,\r\n\r\n\tinFocus\t\t\t?: boolean;\r\n\tisMinified\t\t?: boolean;\r\n\tisMaximized\t\t?: boolean;\r\n\r\n\tstate\t\t\t?: windowStates;\r\n\ttoState\t\t\t?: windowStates;\r\n\tresizable\t\t?: boolean;\r\n\r\n\tappInfo\t\t\t?: IAppInfo;\r\n\tid\t\t\t\t?: any;\r\n}\r\nexport interface IWindowConstructorPropsStrict {\r\n\twidth\t\t\t: number,\r\n\theight\t\t\t: number,\r\n\tx\t\t\t\t: number,\r\n\ty\t\t\t\t: number,\r\n\tminWidth\t\t: number,\r\n\tminHeight\t\t: number,\r\n\tmaxWidth\t\t: number,\r\n\tmaxHeight\t\t: number,\r\n\r\n\tinFocus\t\t\t: boolean;\r\n\tisMinified\t\t: boolean;\r\n\tisMaximized\t\t: boolean;\r\n\r\n\tstate\t\t\t: windowStates;\r\n\ttoState\t\t\t: windowStates;\r\n\tresizable\t\t: boolean;\r\n\r\n\tappInfo\t\t\t: IAppInfo;\r\n\tid\t\t\t\t: any;\r\n}\r\n\r\nexport interface IWindowInstanceProps extends IWindowConstructorPropsStrict {\r\n\tcontentId\t\t: any;\r\n\tcontent\t\t\t: React.ComponentType<{id: string, state: any, contentId: string}> | string;\r\n\tcontentState\t: any;\r\n}\r\n\r\nexport const defaultWindowConstructorProps:IWindowConstructorPropsStrict = {\r\n\tx\t\t\t\t: 100,\r\n\ty\t\t\t\t: 100,\r\n\twidth\t\t\t: 400,\r\n\theight\t\t\t: 400,\r\n\tminWidth\t\t: 50,\r\n\tminHeight\t\t: 50,\r\n\tmaxWidth\t\t: NaN,\r\n\tmaxHeight\t\t: NaN,\r\n\r\n\tinFocus\t\t\t: false,\r\n\tisMinified\t\t: false,\r\n\tisMaximized\t\t: false,\r\n\r\n\tstate\t\t\t: windowStates.New,\r\n\ttoState\t\t\t: windowStates.Normal,\r\n\tresizable\t\t: true,\r\n\tappInfo\t\t\t: null,\r\n\tid\t\t\t\t: '',\r\n}\r\n\r\nexport const defaultWindowProps:IWindowInstanceProps = {\r\n\t...defaultWindowConstructorProps,\r\n\tcontentId\t\t: '',\r\n\tid\t\t\t\t: '',\r\n\tcontent\t\t\t: '',\r\n\tcontentState\t: {},\r\n}","import {windowStates, IWindowInstanceProps} from \"@components/Window/interfaces\";\r\n\r\nexport function isState(windowProps: IWindowInstanceProps, needState: windowStates){\r\n\tvar state = windowProps.state;\r\n\t// if( windowProps.state == windowStates.New ){\r\n\t// \tstate = windowProps.toState;\r\n\t// }\r\n\treturn !!(state & needState);\r\n}\r\n\r\nexport function isNormal(windowProps: IWindowInstanceProps){\r\n\treturn isState(windowProps, windowStates.Normal);\r\n}\r\nexport function isMaximized(windowProps: IWindowInstanceProps){\r\n\treturn isState(windowProps, windowStates.Maximized);\r\n}\r\nexport function isMinimized(windowProps: IWindowInstanceProps){\r\n\treturn isState(windowProps, windowStates.Minimized);\r\n}\r\nexport function isClosing(windowProps: IWindowInstanceProps){\r\n\treturn isState(windowProps, windowStates.Closing);\r\n}\r\n\r\nexport function isVisible(windowProps: IWindowInstanceProps){\r\n\treturn isState(windowProps, windowStates.isVisible) && !isMinimized(windowProps);\r\n}\r\n\r\nexport function isOpened(windowProps: IWindowInstanceProps){\r\n\treturn isState(windowProps, windowStates.isOpened) && !isClosing(windowProps);\r\n}","import * as React from \"react\";\r\nimport {div, el, mapToArray} from \"@utils\";\r\nimport {IWindowInstanceProps, windowBorderTypes} from \"./interfaces\";\r\nimport {isVisible} from \"./index\";\r\nimport {getDocumentRef} from \"@system\";\r\n\r\n\r\nexport default class WindowRender extends React.PureComponent<IWindowInstanceProps & React.HTMLAttributes<HTMLDivElement>> {\r\n\tprotected boxRef = React.createRef<HTMLDivElement>();\r\n\tprotected headerRef = React.createRef<HTMLDivElement>();\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.Box = this.Box.bind(this);\r\n\t\tthis.ResizeBorders = this.ResizeBorders.bind(this);\r\n\t\tthis.Header = this.Header.bind(this);\r\n\t\tthis.Body = this.Body.bind(this);\r\n\t}\r\n\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<this.Box>\r\n\t\t\t\t<this.ResizeBorders />\r\n\t\t\t\t<this.Header />\r\n\t\t\t\t<this.Body />\r\n\t\t\t</this.Box>\r\n\t\t)\r\n\t}\r\n\r\n\tBox(props){\r\n\t\treturn (\r\n\t\t\t<Box {...this.getBoxAttrs()}>\r\n\t\t\t\t{ props.children }\r\n\t\t\t</Box>\r\n\t\t)\r\n\t}\r\n\tResizeBorders(){\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{ this.props.resizable && mapToArray(windowBorderTypes, this.renderResizeBorder.bind(this)) }\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n\tHeader(){\r\n\t\treturn (\r\n\t\t\t<Header\r\n\t\t\t\telementRef\t={ this.headerRef }\r\n\t\t\t\tonMouseDown\t={ this.handlerHeaderOnPress.bind(this) }\r\n\t\t\t>\r\n\t\t\t\t<Buttons>\r\n\t\t\t\t\t{ this.getButtonControlList().map(this.renderButtonControl.bind(this)) }\r\n\t\t\t\t</Buttons>\r\n\t\t\t\t<Title windowWidth={ this.props.width }>\r\n\t\t\t\t\t<TitleText>\r\n\t\t\t\t\t\t{ this.props.appInfo.name }\r\n\t\t\t\t\t</TitleText>\r\n\t\t\t\t</Title>\r\n\t\t\t</Header>\r\n\t\t)\r\n\t}\r\n\tBody(){\r\n\t\tconst Content = this.props.content;\r\n\t\tconst contentState = this.props.contentState;\r\n\t\treturn (\r\n\t\t\t<Body>\r\n\t\t\t\t{ this.renderContent(Content, {windowId:this.props.id, contentId:this.props.contentId, contentState}) }\r\n\t\t\t</Body>\r\n\t\t)\r\n\t}\r\n\r\n\r\n\trenderContent(Content, attrs){\r\n\t\tif( typeof Content == 'string' ) return Content;\r\n\t\tif( typeof Content == 'function' ) return <Content {...attrs} />;\r\n\t\treturn '';\r\n\t}\r\n\trenderButtonControl(buttonType){\r\n\t\tif(!buttonType) return '';\r\n\t\treturn (\r\n\t\t\t<ButtonControl\r\n\t\t\t\tkey={buttonType}\r\n\t\t\t\tbutton-type={buttonType}\r\n\t\t\t\tonClick={ this.handlerButtonControlClick.bind(this, buttonType) }\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\trenderResizeBorder(type, index){\r\n\t\treturn (\r\n\t\t\t<ResizeBorder\r\n\t\t\t\tkey={index}\r\n\t\t\t\tonMouseDown={ this.handlerResizeBorderPress.bind(this, type) }\r\n\t\t\t\tType={type}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\thandlerOnPress(event) {}\r\n\thandlerHeaderOnPress(event) {}\r\n\thandlerResizeBorderPress(direction, event) {}\r\n\thandlerButtonControlClick(type, event) {}\r\n\r\n\tgetValue(value: any){\r\n\t\treturn parseFloat(value) + 'px';\r\n\t}\r\n\tgetButtonControlList(){\r\n\t\treturn ['close', this.props.resizable && 'maximize', 'minimize'];\r\n\t}\r\n\tgetBoxAttrs(){\r\n\t\tlet style = {\r\n\t\t\tleft\t\t: this.getValue(this.props.x),\r\n\t\t\ttop \t\t: this.getValue(this.props.y),\r\n\t\t\twidth\t\t: this.getValue(this.props.width),\r\n\t\t\theight\t\t: this.getValue(this.props.height),\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tdocumentRef: getDocumentRef(),\r\n\t\t\tstyle: style,\r\n\t\t\telementRef: this.boxRef,\r\n\t\t\tisVisible: isVisible(this.props),\r\n\t\t\tinFocus: this.props.inFocus,\r\n\t\t\tclassName: this.props.className,\r\n\t\t\tonMouseDown: this.handlerOnPress.bind(this),\r\n\t\t}\r\n\t}\r\n}\r\n\r\nlet {\r\n\tBox,\r\n\tHeader,\r\n\tBody,\r\n\tButtons,\r\n\tButtonControl,\r\n\tTitle,\r\n\tTitleText,\r\n\r\n\tResizeBorder,\r\n} = require('./styles').children({\r\n\tBox: div(\"Window_Box\"),\r\n\tHeader: div(\"Window_Header\"),\r\n\tTitle: div(\"Window_Title\"),\r\n\tTitleText: div(\"Window_TitleText\"),\r\n\tBody: div(\"Window_Body\"),\r\n\tButtons: div(\"Window_Buttons\"),\r\n\tButtonControl: el(\"button\", \"Window_ButtonControl\"),\r\n\r\n\tResizeBorder: div(\"Window_ResizeBorder\"),\r\n})","import {styled} from \"@utils\";\r\n\r\n\r\nexport function self (Self){\r\n\treturn styled(Self)`\r\n\t\tposition: fixed;\r\n\t\twidth: 400rem;\r\n\t\theight: 400rem;\r\n\t\tbackground: rgba(70, 70, 70, 0.99);\r\n\t`;\r\n}\r\n\r\nexport function children({Box, Header, Body, Buttons, ButtonControl, ResizeBorder, Title, TitleText, ...children}){\r\n\treturn {\r\n\t\t...children,\r\n\t\tBox: styled(Box)`\r\n\t\t\ttransform: scale(${ (props) => props['isVisible'] ? '1' : '0' });\r\n\t\t\topacity: ${ boxOpacity };\r\n\t\t\tbox-shadow: ${(props) => props['inFocus'] ? '0 0 30rem rgba(0, 0, 0, 0.5)' : '0 0 10rem rgba(0, 0, 0, 0.1)'};\r\n\t\t\ttop: 100rem;\r\n\t\t\tleft: 100rem;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\ttransition: transform 0.3s, opacity 0.3s/*, top 0.05s, left 0.05s, height 0.05s, width 0.05s*/;\r\n\t\t`,\r\n\t\tHeader: styled(Header)`\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 20rem;\r\n\t\t\tbackground: rgba(0, 0, 0, 0.8);\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-grow: 0;\r\n\t\t\tflex-shrink: 0;\r\n\t\t\tposition: relative;\r\n\t\t\t&:active {\r\n\t\t\t\tcursor: grabbing;\r\n\t\t\t}\r\n\t\t`,\r\n\t\tBody: styled(Body)`\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tflex-grow: 1;\r\n\t\t\toverflow: hidden;\r\n\t\t\tposition: relative;\r\n\t\t`,\r\n\t\tTitle: styled(Title)`\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-grow: 1;\r\n\t\t\tflex-shrink: 1;\r\n\t\t\twidth: 100%;\r\n\t\t\tfont-size: 10rem;\r\n\t\t\tfont-weight: 300;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: stretch;\r\n\t\t\ttext-align: ${ props => props['windowWidth'] > 200 ? 'center' : 'left' };\r\n\t\t\tpadding: 0 ${ props => props['windowWidth'] > 200 ? '45rem' : '10rem' } 0 45rem;\r\n\t\t\tpointer-events: none;\r\n\t\t`,\r\n\t\tTitleText: styled(TitleText)`\r\n\t\t\tdisplay: block;\r\n\t\t\twhite-space: nowrap;\r\n\t\t\ttext-overflow: ellipsis;\r\n\t\t\toverflow: hidden;\r\n\t\t\twidth: 100%;\r\n\t\t`,\r\n\t\tButtons: styled(Buttons)`\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 6rem;\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 0;\r\n\t\t\ttop: 0;\r\n\t\t\tbottom: 0;\r\n\t\t`,\r\n\t\tButtonControl: styled(ButtonControl)`\r\n\t\t\tdisplay: block;\r\n\t\t\twidth: 8rem;\r\n\t\t\theight: 8rem;\r\n\t\t\tpadding: 0;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tborder: 0;\r\n\t\t\ttransition: all 0.3s;\r\n\t\t\tcursor: pointer;\r\n\t\t\tmargin-right: 4rem;\r\n\t\t\t${ buttonStyles }\r\n\t\t`,\r\n\t\tResizeBorder: styled(ResizeBorder)`\r\n\t\t\tposition: absolute;\r\n\t\t\tfont-size: 4rem;\r\n\t\t\tz-index: 2;\r\n\t\t\t/* background: red; */\r\n\t\t\t${ ResizeBorderStyle }\r\n\t\t`\r\n\t}\r\n}\r\nfunction buttonStyles(props){\r\n\tlet color = '';\r\n\tlet colorHover = '';\r\n\tswitch(props['button-type']){\r\n\t\tcase 'close':\r\n\t\t\tcolor = '#f77';\r\n\t\t\tcolorHover = '#f55';\r\n\t\tbreak;\r\n\t\tcase 'minimize':\r\n\t\t\tcolor = '#7f7';\r\n\t\t\tcolorHover = '#5f5';\r\n\t\tbreak;\r\n\t\tcase 'maximize':\r\n\t\t\tcolor = '#ff7';\r\n\t\t\tcolorHover = '#ff5';\r\n\t\tbreak;\r\n\t}\r\n\treturn `\r\n\t\tbackground: ${ color };\r\n\t\t&:hover {\r\n\t\t\tbackground: ${ colorHover };\r\n\t\t}\r\n\t`;\r\n}\r\nfunction boxOpacity(props) {\r\n\tif( props['isVisible'] ){\r\n\t\tif( props['inFocus'] ){\r\n\t\t\treturn '1';\r\n\t\t}\r\n\t\treturn '0.8';\r\n\t}\r\n\treturn '0';\r\n}\r\nfunction ResizeBorderStyle(props){\r\n\tvar result = '';\r\n\r\n\tswitch(props['Type']){\r\n\t\tcase 'top':\r\n\t\t\tresult += `\r\n\t\t\t\ttop: -0.5em;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tright: 0;\r\n\t\t\t\theight: 1em;\r\n\t\t\t\tcursor: ns-resize !important;\r\n\t\t\t`;\r\n\t\tbreak;\r\n\t\tcase 'bottom':\r\n\t\t\tresult += `\r\n\t\t\t\tbottom: -0.5em;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tright: 0;\r\n\t\t\t\theight: 1em;\r\n\t\t\t\tcursor: ns-resize !important;\r\n\t\t\t`;\r\n\t\tbreak;\r\n\t\tcase 'left':\r\n\t\t\tresult += `\r\n\t\t\t\tleft: -0.5em;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\twidth: 1em;\r\n\t\t\t\tcursor: ew-resize !important;\r\n\t\t\t`;\r\n\t\tbreak;\r\n\t\tcase 'right':\r\n\t\t\tresult += `\r\n\t\t\t\tright: -0.5em;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\twidth: 1em;\r\n\t\t\t\tcursor: ew-resize !important;\r\n\t\t\t`;\r\n\t\tbreak;\r\n\t\tcase 'left-top':\r\n\t\t\tresult += `\r\n\t\t\t\ttop: -0.5em;\r\n\t\t\t\tleft: -0.5em;\r\n\t\t\t\twidth: 1em;\r\n\t\t\t\theight: 1em;\r\n\t\t\t\tcursor: nwse-resize !important;\r\n\t\t\t`;\r\n\t\tbreak;\r\n\t\tcase 'right-bottom':\r\n\t\t\tresult += `\r\n\t\t\t\tbottom: -0.5em;\r\n\t\t\t\tright: -0.5em;\r\n\t\t\t\twidth: 1em;\r\n\t\t\t\theight: 1em;\r\n\t\t\t\tcursor: nwse-resize !important;\r\n\t\t\t`;\r\n\t\tbreak;\r\n\t\tcase 'right-top':\r\n\t\t\tresult += `\r\n\t\t\t\ttop: -0.5em;\r\n\t\t\t\tright: -0.5em;\r\n\t\t\t\twidth: 1em;\r\n\t\t\t\theight: 1em;\r\n\t\t\t\tcursor: nesw-resize !important;\r\n\t\t\t`;\r\n\t\tbreak;\r\n\t\tcase 'left-bottom':\r\n\t\t\tresult += `\r\n\t\t\t\tbottom: -0.5em;\r\n\t\t\t\tleft: -0.5em;\r\n\t\t\t\twidth: 1em;\r\n\t\t\t\theight: 1em;\r\n\t\t\t\tcursor: nesw-resize !important;\r\n\t\t\t`;\r\n\t\tbreak;\r\n\t}\r\n\tif( props['Type'].indexOf('-') != -1 ){\r\n\t\tresult += `\r\n\t\t\tz-index: 3;\r\n\t\t\t/* background: green; */\r\n\t\t`;\r\n\t}\r\n\r\n\treturn result;\r\n}","import * as React from \"react\";\r\nimport {AliveReactComponent} from \"@utils\";\r\n\r\nexport interface IWindowContentProps {\r\n\twindowId\t\t: string;\r\n\tcontentId\t\t: string;\r\n\tcontentState\t: object;\r\n}\r\n\r\n\r\nexport default class WindowContent<P, S> extends AliveReactComponent<IWindowContentProps & P, S> {\r\n\tprotected id: string;\r\n\tprotected windowId: string;\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props, \"Content:\" + props.contentId);\r\n\t\tthis.componentId = '';\r\n\t\tthis.id = \"Content:\" + this.props.contentId;\r\n\t\tthis.windowId = this.props.windowId;\r\n\t}\r\n}","import {defaultWindowProps, IWindowInstanceProps, IWindowConstructorProps} from \"@components/Window\";\r\nimport {store} from \"@system/index\";\r\nimport {createAction, uid} from \"@utils\";\r\nimport {ISize, IPosition,IBounds} from\t\"@interfaces\";\r\n\r\nimport {getList} from \"./methods\";\r\n\r\nlet _createAction = createAction.bind({}, \"WindowsManager\");\r\n\r\nexport {_createAction as createAction};\r\nexport function getActionName(name){\r\n\treturn _createAction(name).type;\r\n}\r\n\r\nexport let actions = {\r\n\t_load(){\r\n\t\tstore.dispatch(_createAction(\"load\"));\r\n\t\tactions.changed();\r\n\t},\r\n\topen(params: {options?: IWindowConstructorProps, content, callback?: (windowId: string) => void}) {\r\n\t\tstore.dispatch(_createAction(\"open\", {...params}));\r\n\t\tactions.changed();\r\n\t},\r\n\tfocus(windowId: string){\r\n\t\tstore.dispatch(_createAction(\"focus\", {windowId}));\r\n\t\tactions.changed();\r\n\t},\r\n\tunfocus(windowId: string){\r\n\t\tstore.dispatch(_createAction(\"unfocus\", {windowId}));\r\n\t\tactions.changed();\r\n\t},\r\n\tsetPosition(windowId: string, position: IPosition){\r\n\t\tstore.dispatch(_createAction(\"setPosition\", {windowId, position}));\r\n\t},\r\n\tshow(windowId: string){\r\n\t\tstore.dispatch(_createAction(\"show\", {windowId}));\r\n\t\tactions.changed();\r\n\t},\r\n\thide(windowId: string){\r\n\t\tstore.dispatch(_createAction(\"hide\", {windowId}));\r\n\t\tactions.changed();\r\n\t},\r\n\tclose(windowId){\r\n\t\tstore.dispatch(_createAction(\"closing\", {windowId}));\r\n\t\tactions.hide(windowId);\r\n\t\tsetTimeout(function(){\r\n\t\t\tstore.dispatch(_createAction(\"close\", {windowId}));\r\n\t\t}, 300);\r\n\t\tactions.changed();\r\n\t},\r\n\tresize(windowId, size: ISize){\r\n\t\tstore.dispatch(_createAction(\"setSize\", {windowId, size}));\r\n\t},\r\n\tchanged(){\r\n\t\tstore.dispatch(_createAction(\"changed\", {list: getList()}));\r\n\t},\r\n\tsetBounds(windowId, bounds: IBounds){\r\n\t\tstore.dispatch(_createAction(\"setBounds\", {windowId, bounds}));\r\n\t},\r\n\tsetSize(windowId, size: ISize){\r\n\t\tstore.dispatch(_createAction(\"setSize\", {windowId, size}));\r\n\t},\r\n\tsetMaximize(windowId, isMaximize: boolean = true){\r\n\t\tstore.dispatch(_createAction(\"setMaximize\", {windowId, isMaximize}));\r\n\t},\r\n\tsetMinimize(windowId, isMinimize: boolean = true){\r\n\t\tstore.dispatch(_createAction(\"setMinimize\", {windowId, isMinimize}));\r\n\t}\r\n}","import * as React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {getWindowContent} from \"@utils\";\r\nimport {actions, getActionName} from \"./actions\";\r\nexport {actions, getActionName};\r\n\r\nimport Window, {defaultWindowProps, IWindowInstanceProps} from \"@components/Window\";\r\nimport {IWindowsManagerProps, IWindowsManagerDispatchProps} from \"./interfaces\";\r\nimport {reducer} from \"./reducer\";\r\nexport {reducer};\r\n\r\nclass WindowsManager extends React.Component<IWindowsManagerProps & IWindowsManagerDispatchProps> {\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{ this.props.opened.map(this.renderWindow.bind(this)) }\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n\trenderWindow(window: IWindowInstanceProps){\r\n\t\tconst props = this.getWindowProps(window);\r\n\t\treturn (<Window {...props} />);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tactions._load();\r\n\t}\r\n\tgetWindowProps(window: IWindowInstanceProps): IWindowInstanceProps & React.ReactNode {\r\n\t\tlet props = {\r\n\t\t\t...window,\r\n\t\t\tkey: window.id,\r\n\t\t\t...getWindowContent(window),\r\n\t\t}\r\n\t\treturn props;\r\n\t}\r\n}\r\n\r\n\r\nvar ConnectedWindowsManager = connect<IWindowsManagerProps, IWindowsManagerDispatchProps, any>(function mapStateToProps(state: any, ownProps){\r\n\treturn {...state.WindowsManager};\r\n}, function mapDispatchToProps(dispatch): IWindowsManagerDispatchProps{\r\n\treturn {};\r\n})(WindowsManager);\r\n\r\nexport default ConnectedWindowsManager;","import {getContentState} from \"@system/window\"\r\nimport {isMaximized, isOpened} from \"@components/Window/methods\"\r\nimport {defaultWindowConstructorProps, IWindowConstructorPropsStrict, IWindowConstructorProps} from \"@components/Window/interfaces\";\r\nimport {round, uid} from \"@utils\";\r\nimport {ISizeAny, IPositionAny, ISizeStrict, IPositionStrict, IPositionRelativeX, IPositionRelativeY, Percent} from\t\"@interfaces\";\r\nimport {store} from \"@system/index\";\r\n\r\nexport function windowFocus(list, windowId, setFocus = true){\r\n\tvar focusWindow;\r\n\tlist = list.filter(function(window) {\r\n\t\tif( setFocus && window.id === windowId ){\r\n\t\t\tfocusWindow = window;\r\n\t\t\twindow.inFocus = setFocus;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\twindow.inFocus = false;\r\n\t\treturn true;\r\n\t});\r\n\tif(focusWindow) list.push(focusWindow);\r\n\treturn list;\r\n}\r\nexport function windowMap(list, windowId, handler){\r\n\treturn list.map(function(window){\r\n\t\tif( window.id != windowId ) return window;\r\n\t\treturn handler(window);\r\n\t})\r\n}\r\n\r\nvar isPercent \t= /[0-9.]+\\%/;\r\n\r\nfunction parsePercent(val){\r\n\treturn (parseFloat(val) || 0)/100;\r\n}\r\n\r\nfunction _windowCalcState(keyPosition, keySize, windowProps, contentProps) {\r\n\tvar result = {};\r\n\r\n\tvar windowSize = windowCalcStateSize(keySize, windowProps, contentProps);\r\n\tvar windowPosition = windowProps[keyPosition];\r\n\r\n\tvar contentSize = contentProps[keySize];\r\n\r\n\tswitch(windowPosition){\r\n\t\tcase 'center'\t:\r\n\t\tcase 'middle'\t:\r\n\t\tcase IPositionRelativeX.center:\r\n\t\tcase IPositionRelativeY.center:\r\n\t\tcase IPositionRelativeX.middle:\r\n\t\tcase IPositionRelativeY.middle:\r\n\t\t\twindowPosition = '50%';\r\n\t\tbreak;\r\n\t\tcase IPositionRelativeX.left:\r\n\t\tcase IPositionRelativeY.top:\r\n\t\t\twindowPosition = '0%';\r\n\t\tbreak;\r\n\t\tcase IPositionRelativeX.right:\r\n\t\tcase IPositionRelativeY.bottom:\r\n\t\t\twindowPosition = '100%';\r\n\t\tbreak;\r\n\t}\r\n\r\n\tif( isPercent.test(windowPosition) || windowPosition instanceof Percent ){\r\n\t\twindowPosition = parsePercent( windowPosition.toString() )*(contentSize - windowSize) || 0;\r\n\t} else {\r\n\t\twindowPosition = parseFloat(windowPosition) || 0;\r\n\t}\r\n\r\n\twindowPosition += contentProps[keyPosition];\r\n\tresult[keySize] = round(windowSize, 3);\r\n\tresult[keyPosition] = round(windowPosition, 3);\r\n\r\n\treturn result;\r\n}\r\nfunction windowCalcStateSize(keySize, windowProps, contentProps) {\r\n\tif( isPercent.test(windowProps[keySize]) ){\r\n\t\treturn parsePercent(windowProps[keySize])*contentProps[keySize];\r\n\t}\r\n\treturn parseFloat(windowProps[keySize]) || 0;\r\n}\r\n\r\nexport function windowCalcState(windowProps: ISizeAny & IPositionAny ) : ISizeStrict & IPositionStrict {\r\n\tvar contentState = getContentState();\r\n\r\n\tvar result = {\r\n\t\twidth: 0,\r\n\t\theight: 0,\r\n\t\tx: 0,\r\n\t\ty: 0,\r\n\t}\r\n\r\n\tresult = {\r\n\t\t...result,\r\n\t\t..._windowCalcState('x', 'width', windowProps, contentState),\r\n\t\t..._windowCalcState('y', 'height', windowProps, contentState),\r\n\t}\r\n\r\n\treturn result;\r\n}\r\n\r\nexport function getList(){\r\n\treturn store.getState().WindowsManager.opened.filter( window => isOpened(window) );\r\n}\r\n\r\nexport function constructorOptions(options: IWindowConstructorProps): IWindowConstructorPropsStrict {\r\n\treturn {\r\n\t\t...defaultWindowConstructorProps,\r\n\t\tid: uid(),\r\n\t\t...options,\r\n\t\t...windowCalcState(options),\r\n\t}\r\n}\r\n\r\nexport function getWindowMaximizedSize(): ISizeStrict {\r\n\tvar contentState = getContentState();\r\n\treturn {\r\n\t\twidth: contentState.width,\r\n\t\theight: contentState.height,\r\n\t}\r\n}","import {checkAction} from \"@utils\";\r\nimport {IWindowsManagerProps} from \"./interfaces\";\r\nimport {ReducerMethods} from \"./reducerMethods\";\r\n\r\nimport { reducersManager } from \"@system\";\r\n\r\nexport function reducer(state: IWindowsManagerProps = {\r\n\topened: []\r\n}, action){\r\n\tvar type = \"\";\r\n\tif(!(type = checkAction(\"WindowsManager\", action))) return state;\r\n\r\n\tconst reducer = new ReducerMethods(state, action);\r\n\r\n\treducer.call(type, state, action);\r\n\r\n\treturn reducer.getState();\r\n}\r\n\r\nreducersManager.addLocalReducer('WindowsManager', reducer);","import {defaultWindowProps, windowStates, BoundsManager as WindowBoundsManager, IWindowInstanceProps, IWindowConstructorProps} from \"@components/Window\";\r\nimport {IWindowsManagerProps} from \"./interfaces\";\r\nimport {isFunction, checkAction, stateLoad, stateSave} from \"@utils\";\r\nimport {windowFocus, windowMap} from \"./methods\";\r\nimport {windowCalcState, getList, constructorOptions} from \"./methods\";\r\nimport {actions} from \"./actions\";\r\n\r\nexport class ReducerMethods {\r\n\tprotected state: any = {};\r\n\tprotected action: any = {};\r\n\r\n\tconstructor(state, action){\r\n\t\tthis.state = state;\r\n\t\tthis.action = action;\r\n\t}\r\n\tcall(method, state = {}, action) {\r\n\t\tif(!(typeof this[method] == 'function')) return;\r\n\t\tthis[method]();\r\n\t}\r\n\tgetState(){\r\n\t\treturn this.state;\r\n\t}\r\n\tsetState(obj){\r\n\t\tthis.state = {\r\n\t\t\t...this.state,\r\n\t\t\t...obj,\r\n\t\t}\r\n\t\tstateSave(\"WindowsManager\", this.state);\r\n\t}\r\n\topen(){\r\n\t\tlet windowProps:IWindowConstructorProps = constructorOptions(this.action.options);\r\n\r\n\t\tlet newWindow = {\r\n\t\t\t...defaultWindowProps,\r\n\t\t\t...windowProps,\r\n\t\t\tcontent: this.action.content,\r\n\t\t}\r\n\r\n\t\tconsole.log('newWindow', newWindow)\r\n\r\n\t\tthis.setState({\r\n\t\t\topened: this.state.opened.concat(newWindow)\r\n\t\t})\r\n\t\tthis.action.windowId = newWindow.id;\r\n\t\tthis.focus()\r\n\r\n\t\tif( isFunction(this.action.callback) ){\r\n\t\t\tthis.action.callback(this.action.id);\r\n\t\t}\r\n\t}\r\n\tload(){\r\n\t\tthis.setState(stateLoad<IWindowsManagerProps>(\"WindowsManager\", {\r\n\t\t\topened: []\r\n\t\t}));\r\n\t}\r\n\tfocus(){\r\n\t\tthis.setState({\r\n\t\t\topened: windowFocus(this.state.opened, this.action.windowId),\r\n\t\t})\r\n\t}\r\n\tunfocus(){\r\n\t\tthis.setState({\r\n\t\t\topened: windowFocus(this.state.opened, this.action.windowId, false),\r\n\t\t})\r\n\t}\r\n\tshow(){\r\n\t\tthis.setState({\r\n\t\t\topened: windowMap(this.state.opened, this.action.windowId, (window: IWindowInstanceProps) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...window,\r\n\t\t\t\t\tstate: window.toState || windowStates.Normal\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\thide(){\r\n\t\tthis.setState({\r\n\t\t\topened: windowMap(this.state.opened, this.action.windowId, (window: IWindowInstanceProps) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...window,\r\n\t\t\t\t\tstate: window.state | windowStates.Minimized\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\tclose(){\r\n\t\tthis.setState({\r\n\t\t\topened: this.state.opened.filter( window => window.id !== this.action.windowId )\r\n\t\t})\r\n\t}\r\n\tclosing(){\r\n\t\tthis.setState({\r\n\t\t\topened: windowMap(this.state.opened, this.action.windowId, (window: IWindowInstanceProps) => {\r\n\t\t\t\twindow = {...window};\r\n\t\t\t\twindow.state = window.state | windowStates.Closing;\r\n\t\t\t\treturn window;\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\tsetPosition(){\r\n\t\tthis.setState({\r\n\t\t\topened: windowMap(this.state.opened, this.action.windowId, (window: IWindowInstanceProps) => {\r\n\t\t\t\tlet windowBoundsManager = new WindowBoundsManager(window);\r\n\t\t\t\t\r\n\t\t\t\twindowBoundsManager.setPosition(this.action.position);\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...window,\r\n\t\t\t\t\t...windowBoundsManager.getState(),\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\tsetSize(){\r\n\t\tthis.setState({\r\n\t\t\topened: windowMap(this.state.opened, this.action.windowId, (window: IWindowInstanceProps) => {\r\n\t\t\t\tlet windowBoundsManager = new WindowBoundsManager(window);\r\n\t\t\t\t\r\n\t\t\t\twindowBoundsManager.setSize(this.action.size);\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...window,\r\n\t\t\t\t\t...this.action.size,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\tsetBounds(){\r\n\t\tthis.setState({\r\n\t\t\topened: windowMap(this.state.opened, this.action.windowId, (window: IWindowInstanceProps) => {\r\n\t\t\t\tlet windowBoundsManager = new WindowBoundsManager(window);\r\n\t\t\t\t\r\n\t\t\t\twindowBoundsManager.setBounds(this.action.bounds);\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...window,\r\n\t\t\t\t\t...windowBoundsManager.getState(),\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\tsetMaximize(){\r\n\t\tthis.setState({\r\n\t\t\topened: windowMap(this.state.opened, this.action.windowId, (window: IWindowInstanceProps) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...window,\r\n\t\t\t\t\tisMaximize: this.action.isMaximize,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\tsetMinimize(){\r\n\t\tthis.setState({\r\n\t\t\topened: windowMap(this.state.opened, this.action.windowId, (window: IWindowInstanceProps) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...window,\r\n\t\t\t\t\tisMinimize: this.action.isMinimize,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n}"],"sourceRoot":""}