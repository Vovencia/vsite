{"version":3,"sources":["webpack:///./components/Cursor/index.styl","webpack:///./components/ControlBar/index.tsx","webpack:///./components/ControlBar/styles.ts","webpack:///./components/ControlBar/time.tsx","webpack:///./components/Cursor/index.styl?36dd","webpack:///./components/Cursor/index.tsx","webpack:///./components/Cursor/style.ts","webpack:///./components/Layout/index.tsx","webpack:///./components/Layout/styles.ts","webpack:///./components/ScrolledContent/index.tsx","webpack:///./components/ScrolledContent/styles.ts","webpack:///./components/Taskbar/index.tsx","webpack:///./components/Taskbar/styles.ts","webpack:///./components/Window/index.tsx","webpack:///./components/Window/interfaces.ts","webpack:///./components/Window/methods.ts","webpack:///./components/Window/render.tsx","webpack:///./components/Window/styles.ts","webpack:///./components/WindowContent/index.tsx","webpack:///./components/WindowsManager/actions.ts","webpack:///./components/WindowsManager/index.tsx","webpack:///./components/WindowsManager/methods.ts","webpack:///./components/WindowsManager/reducer.ts"],"names":[],"mappings":"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","file":"app/components.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"html {\\n  cursor: none;\\n}\\n*:not(.get-cursor) {\\n  cursor: none;\\n}\\n\", \"\"]);\n\n// exports\n","import * as React from \"react\";\r\nimport {div} from \"@utils\";\r\n\r\nimport Time from \"./time\";\r\n\r\nexport class ControlBar extends React.Component {\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<div {...this.props}>\r\n\t\t\t\t<RightPanel>\r\n\t\t\t\t\t<StyledTime />\r\n\t\t\t\t</ RightPanel>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nlet {\r\n\tSelf: StyledControlBar,\r\n\tRightPanel,\r\n\tTime: StyledTime\r\n} = require(\"./styles.ts\")(ControlBar, {\r\n\tRightPanel: div(\"ControlBar_RightPanel\"),\r\n\tTime: Time,\r\n});\r\n\r\nexport default StyledControlBar;","import {_styled as _, styled} from \"@utils\";\r\n\r\nmodule.exports = function(obj, {RightPanel, Time, ...children}){\r\n\treturn {\r\n\t\t...children,\r\n\t\tSelf: styled(obj)`\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-grow: 0;\r\n\t\t\tflex-shrink: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 20rem;\r\n\t\t\tcolor: #fff;\r\n\t\t\tbackground: rgba(0, 0, 0, 0.5);\r\n\t\t`,\r\n\t\tRightPanel: styled(RightPanel)`\r\n\t\t\tdisplay: flex;\r\n\t\t\tmargin-left: auto;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 0 5rem;\r\n\t\t`,\r\n\t\tTime: styled(Time)`\r\n\t\t\tfont-size: 12rem;\r\n\t\t\tfont-weight: 300;\r\n\t\t`\r\n\t}\r\n}","import * as React from \"react\";\r\n\r\nexport default class Time extends React.Component<null, {\r\n\tformattedTime: string;\r\n}> {\r\n\tprivate interval;\r\n\tprivate delay = 200;\r\n\r\n\tcomponentWillMount(){ this.interval = setInterval(this.tick.bind(this), this.delay); this.tick(); }\r\n\tcomponentWillUnmount(){ clearInterval(this.interval); }\r\n\ttick(){\r\n\t\tthis.setState({\r\n\t\t\tformattedTime: this.getFormatTime(),\r\n\t\t});\r\n\t}\r\n\tgetTime(){\r\n\t\tvar dateTime = new Date(Date.now());\r\n\r\n\t\treturn {\r\n\t\t\thour: dateTime.getHours(),\r\n\t\t\tminutes: dateTime.getMinutes(),\r\n\t\t\tseconds: dateTime.getSeconds(),\r\n\t\t};\r\n\t}\r\n\tgetFormatTime(){\r\n\t\tvar time = this.getTime();\r\n\r\n\t\treturn `${ (\"00\" + time.hour).slice(-2) }:${ (\"00\" + time.minutes).slice(-2) }`;\r\n\t}\r\n\trender (){\r\n\t\treturn (\r\n\t\t\t<div {...this.props}>{ this.state.formattedTime }</div>\r\n\t\t)\r\n\t}\r\n}","\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/stylus-loader/index.js??ref--5-2!./index.styl\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/stylus-loader/index.js??ref--5-2!./index.styl\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/stylus-loader/index.js??ref--5-2!./index.styl\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import * as React from \"react\";\r\nimport \"./index.styl\";\r\n\r\ninterface ICursorState {\r\n\tmouseX: Number,\r\n\tmouseY: Number,\r\n\tcursor: String,\r\n\tmouseState: Object,\r\n}\r\n\r\nclass Cursor extends React.Component<null, ICursorState> {\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.handlerMouseMove \t= this.handlerMouseMove.bind(this);\r\n\r\n\t\tthis.handlerMouseOver \t= this.handlerMouseOver.bind(this);\r\n\t\tthis.handlerMouseOut \t= this.handlerMouseOut.bind(this);\r\n\r\n\t\tthis.handlerMouseDown \t= this.handlerMouseDown.bind(this);\r\n\t\tthis.handlerMouseUp \t= this.handlerMouseUp.bind(this);\r\n\r\n\t\tthis.handlerDragStart \t= this.handlerDragStart.bind(this);\r\n\t\tthis.handlerDragEnd \t= this.handlerDragEnd.bind(this);\r\n\t\tthis.handlerDrag \t= this.handlerDrag.bind(this);\r\n\r\n\t\tthis.state = {\r\n\t\t\tmouseX: -100,\r\n\t\t\tmouseY: -100,\r\n\t\t\tcursor: 'default',\r\n\t\t\tmouseState: {}\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tvar attrs = {\r\n\t\t\t...this.props,\r\n\t\t\t'style': {left: this.state.mouseX + 'px', top: this.state.mouseY + 'px'},\r\n\t\t\t'data-cursor': this.state.cursor,\r\n\t\t\t'data-state': this.getMouseState(),\r\n\t\t};\r\n\r\n\t\treturn (\r\n\t\t\t<div {...attrs} >\r\n\t\t\t\t<svg version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"-50 -50 563 563\">\r\n\t\t\t\t\t<path d=\"M359.55,344.47,18.22,3.13A10.67,10.67,0,0,0,0,10.69V501.35a10.66,10.66,0,0,0,18.47,7.25L154,362.69H352a10.67,10.67,0,0,0,7.55-18.22Z\"/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tdocument.addEventListener('mousemove', this.handlerMouseMove);\r\n\t\twindow.addEventListener('drag' , this.handlerMouseMove);\r\n\r\n\t\tdocument.addEventListener('mouseover', this.handlerMouseOver);\r\n\t\tdocument.addEventListener('mouseout' , this.handlerMouseOut);\r\n\r\n\t\twindow.addEventListener('mousedown' , this.handlerMouseDown);\r\n\t\twindow.addEventListener('mouseup' , this.handlerMouseUp);\r\n\t\twindow.addEventListener('dragend' , this.handlerMouseUp);\r\n\r\n\t\twindow.addEventListener('dragstart' , this.handlerDragStart);\r\n\t\twindow.addEventListener('dragend' , this.handlerDragEnd);\r\n\t\twindow.addEventListener('drag' , this.handlerDrag);\r\n\t}\r\n\tcomponentWillUnmount(){\r\n\t\tdocument.removeEventListener('mousemove', this.handlerMouseMove);\r\n\t\twindow.removeEventListener('drag' , this.handlerMouseMove);\r\n\r\n\t\tdocument.removeEventListener('mouseover', this.handlerMouseOver);\r\n\t\tdocument.removeEventListener('mouseout' , this.handlerMouseOut);\r\n\r\n\t\twindow.removeEventListener('mousedown' , this.handlerMouseDown);\r\n\t\twindow.removeEventListener('mouseup' , this.handlerMouseUp);\r\n\t\twindow.removeEventListener('dragend' , this.handlerMouseUp);\r\n\r\n\t\twindow.removeEventListener('dragstart' , this.handlerDragStart);\r\n\t\twindow.removeEventListener('dragend' , this.handlerDragEnd);\r\n\t\twindow.removeEventListener('drag' , this.handlerDrag);\r\n\t}\r\n\thandlerMouseOver(event){\r\n\t\tlet targets = event.path;\r\n\t\tlet cursor = \"\";\r\n\r\n\t\tfor( let target of targets ){\r\n\t\t\tif(!target.computedStyleMap) continue;\r\n\t\t\ttarget.classList.add('get-cursor');\r\n\t\t\tlet _cursor = target.computedStyleMap().get(\"cursor\").value;\r\n\t\t\ttarget.classList.remove('get-cursor');\r\n\t\t\tswitch (_cursor) {\r\n\t\t\t\tcase 'none':\r\n\t\t\t\tcase '':\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tcursor = _cursor;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tif( !cursor ) cursor = \"default\";\r\n\r\n\t\tthis.setState({\r\n\t\t\tcursor: cursor,\r\n\t\t})\r\n\t}\r\n\thandlerMouseOut(event){\r\n\t\t// event.target.classList.remove('no-cursor');\r\n\t}\r\n\thandlerMouseMove(event){\r\n\r\n\t\tthis.setState({\r\n\t\t\tmouseX: event.clientX,\r\n\t\t\tmouseY: event.clientY,\r\n\t\t})\r\n\t}\r\n\thandlerMouseDown(event){\r\n\t\tevent.preventDefault();\r\n\t\tthis.setState({\r\n\t\t\tmouseState: {...this.state.mouseState, active: true},\r\n\t\t})\r\n\t}\r\n\thandlerMouseUp(){\r\n\t\tthis.setState({\r\n\t\t\tmouseState: {...this.state.mouseState, active: false},\r\n\t\t})\r\n\t}\r\n\thandlerDragStart(){\r\n\t\tthis.setState({\r\n\t\t\tmouseState: {...this.state.mouseState, drag: true},\r\n\t\t})\r\n\t}\r\n\thandlerDragEnd(){\r\n\t\tthis.setState({\r\n\t\t\tmouseState: {...this.state.mouseState, drag: false},\r\n\t\t})\r\n\t}\r\n\thandlerDrag(event){\r\n\t}\r\n\tgetMouseState(): string{\r\n\t\tvar result = [];\r\n\t\tfor(var key in this.state.mouseState){\r\n\t\t\tif( this.state.mouseState[key] ){\r\n\t\t\t\tresult.push(key);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\" \");\r\n\t}\r\n}\r\n\r\nexport default require(\"./style.ts\")(Cursor);","import {styled} from \"@utils\";\r\n\r\nmodule.exports = function StylesCursor(Cursor) {\r\n\treturn styled(Cursor)`\r\n\t\tposition: fixed;\r\n\t\tpointer-events: none;\r\n\t\tcolor: #20efa4;\r\n\t\ttransition: color 0.3s;\r\n\t\tz-index: 1000;\r\n\t\t&:before {\r\n\t\t\tcontent: '';\r\n\t\t\tdisplay: block;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\twidth: 0;\r\n\t\t\theight: 0;\r\n\t\t\tborder: 2px solid rgba(255,255,255, 0.5);\r\n\t\t\tanimation: pulse 1s infinite;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\ttransition: all 0.3s;\r\n\t\t\tvisibility: hidden;\r\n\t\t\topacity: 0;\r\n\t\t\t@keyframes pulse {\r\n\t\t\t\tfrom {\r\n\t\t\t\t\ttransform: scale(1)\r\n\t\t\t\t}\r\n\t\t\t\t50% {\r\n\t\t\t\t\ttransform: scale(0.8)\r\n\t\t\t\t}\r\n\t\t\t\tto {\r\n\t\t\t\t\ttransform: scale(1)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tsvg {\r\n\t\t\tdisplay: block;\r\n\t\t\twidth: 20px;\r\n\t\t\tcolor: #20efa4;\r\n\t\t\tfill: currentColor;\r\n\t\t\tstroke: currentColor;\r\n\t\t\tstroke-width: 50;\r\n\t\t\tz-index: 1;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\ttransition: all 0.3s;\r\n\t\t\ttransform-origin: top left;\r\n\t\t}\r\n\t\t&[data-cursor=\"pointer\"] {\r\n\t\t\t&,\r\n\t\t\tsvg {\r\n\t\t\t\tcolor: #efe120;\r\n\t\t\t}\r\n\t\t\t/* &:before {\r\n\t\t\t\tvisibility: visible;\r\n\t\t\t\topacity: 1;\r\n\t\t\t\twidth: 10px;\r\n\t\t\t\theight: 10px;\r\n\t\t\t\tmargin: -5px 0 0 -5px;\r\n\t\t\t} */\r\n\t\t\t/* svg {\r\n\t\t\t\tfill: transparent;\r\n\t\t\t\tstroke-dasharray: 100;\r\n\t\t\t} */\r\n\t\t}\r\n\t\t&[data-state*=\"active\"] {\r\n\t\t\tsvg {\r\n\t\t\t\ttransform: scale(0.8)\r\n\t\t\t}\r\n\t\t}\r\n\t`\r\n}","import * as React from \"react\";\r\nimport { combineReducers } from 'redux'\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {ILayoutProps, ILayoutDispatchProps, ILayoutState} from \"./interfaces\";\r\n\r\nimport {div} from \"@utils\";\r\n\r\nimport Cursor from \"@components//Cursor\";\r\nimport WindowsManager, {reducer as WindowsManagerReducer} from \"@components/WindowsManager\";\r\n\r\nimport ControlBar from \"@components/ControlBar\";\r\nimport TaskBar, {reducer as TaskBarReducer} from \"@components/Taskbar\";\r\n\r\nclass Layout extends React.Component<ILayoutProps & ILayoutDispatchProps> {\r\n\tprivate window: React.RefObject<HTMLDivElement>;\r\n\tprivate content: React.RefObject<HTMLDivElement>;\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.onResize = this.onResize.bind(this);\r\n\t\tthis.window = React.createRef();\r\n\t\tthis.content = React.createRef();\r\n\t}\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className={this.props.className}>\r\n\t\t\t\t<Cursor />\r\n\t\t\t\t\r\n\t\t\t\t{ !this.props.loading && this.renderContent() }\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\twindow.addEventListener('resize', this.onResize);\r\n\t}\r\n\tcomponentDidUpdate(){\r\n\t\tthis.onResize();\r\n\t}\r\n\tcomponentWillUnmount(){\r\n\t\twindow.removeEventListener('resize', this.onResize);\r\n\t}\r\n\trenderContent(){\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Container elementRef={this.window}>\r\n\t\t\t\t\t<ContainerColumn>\r\n\t\t\t\t\t\t<ControlBar />\r\n\t\t\t\t\t\t<ContainerRow elementRef={this.content}>\r\n\t\t\t\t\t\t\t<TaskBar />\r\n\t\t\t\t\t\t\t<Content />\r\n\t\t\t\t\t\t</ContainerRow>\r\n\t\t\t\t\t</ContainerColumn>\r\n\t\t\t\t</Container>\r\n\t\t\t\t<WindowsManager opened={[]} />\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n\tonResize(){\r\n\t\tthis.props.setLayoutState({\r\n\t\t\twindow: {\r\n\t\t\t\twidth\t: this.window.current.offsetWidth,\r\n\t\t\t\theight\t: this.window.current.offsetHeight,\r\n\t\t\t\tx\t\t: this.window.current.offsetLeft,\r\n\t\t\t\ty\t\t: this.window.current.offsetTop,\r\n\t\t\t},\r\n\t\t\tcontent: {\r\n\t\t\t\twidth\t: this.content.current.offsetWidth,\r\n\t\t\t\theight\t: this.content.current.offsetHeight,\r\n\t\t\t\tx\t\t: this.content.current.offsetLeft,\r\n\t\t\t\ty\t\t: this.content.current.offsetTop,\r\n\t\t\t},\r\n\t\t})\r\n\t}\r\n}\r\n\r\n\r\nlet {\r\n\tSelf: StyledLayout,\r\n\tContainer,\r\n\tContent,\r\n\tContainerColumn,\r\n\tContainerRow,\r\n} = require('./styles.ts')(Layout, {\r\n\tContainer: div(\"Layout_Container\"),\r\n\tContainerColumn: div(\"Layout_Column\"),\r\n\tContainerRow: div(\"Layout_Row\"),\r\n\tContent: div(\"Layout_Content\")\r\n});\r\n\r\nvar ConnectedStyledLayout = connect<ILayoutProps, ILayoutDispatchProps, any>(function mapStateToProps(state: any, ownProps){\r\n\treturn {\r\n\t\tloading: !!state.System.loading,\r\n\t}\r\n}, function mapDispatchToProps(dispatch){\r\n\treturn {\r\n\t\tsetLayoutState(size){\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'Layout.setLayoutState',\r\n\t\t\t\t...size,\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n})(StyledLayout);\r\n\r\n\r\nexport default ConnectedStyledLayout;\r\nexport let reducer = combineReducers({\r\n\tLayout: function(state: ILayoutState, action){\r\n\t\tif(!state){\r\n\t\t\tstate = {};\r\n\t\t}\r\n\t\tif(!state.window){\r\n\t\t\tstate = {\r\n\t\t\t\t...state,\r\n\t\t\t\twindow: {\r\n\t\t\t\t\twidth\t: 0,\r\n\t\t\t\t\theight\t: 0,\r\n\t\t\t\t\tx\t\t: 0,\r\n\t\t\t\t\ty\t\t: 0,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(!state.content){\r\n\t\t\tstate = {\r\n\t\t\t\t...state,\r\n\t\t\t\tcontent: {\r\n\t\t\t\t\twidth\t: 0,\r\n\t\t\t\t\theight\t: 0,\r\n\t\t\t\t\tx\t\t: 0,\r\n\t\t\t\t\ty\t\t: 0,\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t}\r\n\t\tswitch(action.type){\r\n\t\t\tcase 'Layout.setLayoutState':\r\n\t\t\t\tstate = {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\twindow: {\r\n\t\t\t\t\t\t...state.window,\r\n\t\t\t\t\t\t...action.window,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcontent: {\r\n\t\t\t\t\t\t...state.content,\r\n\t\t\t\t\t\t...action.content,\r\n\t\t\t\t\t},\r\n\t\t\t\t};\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\treturn state;\r\n\t},\r\n\tSystem: function(state = {}, action){\r\n\t\treturn state;\r\n\t},\r\n\tTaskbar: TaskBarReducer,\r\n\tWindowsManager: WindowsManagerReducer,\r\n})","import {_styled as _, styled} from \"@utils\";\r\n\r\nmodule.exports = function(obj, {Container, Content, ContainerColumn, ContainerRow,...children}){\r\n\treturn {\r\n\t\t...children,\r\n\r\n\t\tSelf: styled(obj)`\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\tflex-grow: 1;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t`,\r\n\t\tContainer: styled(Container)`\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\tflex-grow: 1;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t`,\r\n\t\tContent: styled(Content)`\r\n\t\t\tflex-grow: 1;\r\n\t\t`,\r\n\t\tContainerColumn: styled(ContainerColumn)`\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tflex-grow: 1;\r\n\t\t`,\r\n\t\tContainerRow: styled(ContainerRow)`\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tflex-grow: 1;\r\n\t\t`\r\n\r\n\t}\r\n}","import * as React from \"react\";\r\n\r\nimport {div} from \"@utils\";\r\n\r\nclass ScrolledContent extends React.PureComponent<{\r\n\r\n}, {\r\n\tscrollArea: number;\r\n\tcontentHeight: number;\r\n\tcontentTop: number;\r\n\tbarHeight: number;\r\n\tbarTop: number;\r\n}> {\r\n\tprivate self: React.RefObject<HTMLDivElement>;\r\n\tprivate content: React.RefObject<HTMLDivElement>;\r\n\tprivate track: React.RefObject<HTMLDivElement>;\r\n\tprivate bar: React.RefObject<HTMLDivElement>;\r\n\tprivate contentTop: number;\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.self = React.createRef();\r\n\t\tthis.content = React.createRef();\r\n\t\tthis.track = React.createRef();\r\n\t\tthis.bar = React.createRef();\r\n\t\tthis.onResize = this.onResize.bind(this);\r\n\t\tthis.state = {\r\n\t\t\tscrollArea: 0,\r\n\t\t\tcontentHeight: 1,\r\n\t\t\tcontentTop: 0,\r\n\t\t\tbarHeight: 1,\r\n\t\t\tbarTop: 0,\r\n\t\t}\r\n\t}\r\n\trender(){\r\n\t\tvar attrs = {...this.props}\r\n\t\tdelete attrs.children;\r\n\r\n\t\tlet barStyles = {\r\n\t\t\theight: ((this.state.barHeight * 100) + '%'),\r\n\t\t\ttop: ((this.state.barTop * 100) + '%'),\r\n\t\t}\r\n\r\n\t\tvar isVisible = !({0: true, 1: true}[this.state.barHeight]);\r\n\r\n\t\treturn (\r\n\t\t\t<div ref={this.self} {...attrs}>\r\n\t\t\t\t<Content style={{top: -this.state.contentTop + 'px'}} elementRef={ this.content } onWheel={ this.handlerOnWheel.bind(this) }>\r\n\t\t\t\t\t{ this.props.children }\r\n\t\t\t\t</Content>\r\n\t\t\t\t<Track style-isVisible={ isVisible } elementRef={ this.track }>\r\n\t\t\t\t\t<Bar elementRef={ this.bar } style={barStyles} />\r\n\t\t\t\t</Track>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\tcalcScrollState(addTop:number = 0){\r\n\t\tvar windowHeight = this.self.current.offsetHeight;\r\n\t\tvar contentHeight = this.content.current.offsetHeight;\r\n\t\tvar contentTop = this.contentTop + addTop;\r\n\t\tif( contentTop < 0 ) contentTop = 0;\r\n\t\tif( contentTop > contentHeight - windowHeight ) contentTop = contentHeight - windowHeight;\r\n\r\n\t\tthis.contentTop = contentTop;\r\n\r\n\t\tvar barHeight = ((windowHeight/contentHeight) || 1);\r\n\t\tvar barTop = ((contentTop/contentHeight) || 0);\r\n\r\n\t\twindowHeight = (windowHeight/contentHeight);\r\n\r\n\t\treturn {\r\n\t\t\tscrollArea: contentHeight - windowHeight,\r\n\t\t\tcontentHeight,\r\n\t\t\tcontentTop,\r\n\t\t\tbarHeight,\r\n\t\t\tbarTop,\r\n\t\t}\r\n\t}\r\n\tsetScrollState(state){\r\n\t\tif( state.barTop + state.barHeight > 1 ){\r\n\t\t\tstate.barTop = 1 - state.barHeight;\r\n\t\t}\r\n\t\tif( state.barTop < 0 ) state.barTop = 0;\r\n\t\tthis.setState(state);\r\n\t}\r\n\tscroll(value){\r\n\t\tvar state = this.calcScrollState(value);\r\n\t\tthis.setScrollState(state);\r\n\t}\r\n\thandlerOnWheel(event){\r\n\t\tthis.scroll(event.deltaY);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\twindow.addEventListener('resize', this.onResize);\r\n\r\n\t\tthis.contentTop = -(parseFloat(window.getComputedStyle( this.content.current ).top) || 0);\r\n\t\tthis.update();\r\n\t}\r\n\tcomponentWillUnmount(){\r\n\t\twindow.removeEventListener('resize', this.onResize);\r\n\t}\r\n\tcomponentDidUpdate(){\r\n\t\tthis.update();\r\n\t}\r\n\tupdate(){\r\n\t\tthis.setScrollState( this.calcScrollState() );\r\n\t}\r\n\tonResize(){\r\n\t\tthis.update();\r\n\t}\r\n}\r\n\r\n\r\nlet {\r\n\tSelf: StyledScrolledContent,\r\n\tContent,\r\n\tTrack,\r\n\tBar,\r\n} = require(\"./styles.ts\")(ScrolledContent, {\r\n\tContent: div(\"ScrolledContent_Content\"),\r\n\tTrack: div(\"ScrolledContent_Track\"),\r\n\tBar: div(\"ScrolledContent_Bar\"),\r\n})\r\n\r\nexport default StyledScrolledContent;","import {styled} from \"@utils\";\r\n\r\n\r\nmodule.exports = function(obj, {Content, Track,Bar, ...children}){\r\n\treturn {\r\n\t\t...children,\r\n\t\tSelf: styled(obj)`\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t\tflex-grow: 1;\r\n\t\t\tflex-shrink: 1;\r\n\t\t\toverflow: hidden;\r\n\t\t\tposition: relative;\r\n\t\t`,\r\n\t\tContent: styled(Content)`\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tflex-grow: 1;\r\n\t\t\tflex-shrink: 0;\r\n\t\t\tposition: relative;\r\n\t\t\ttransition: top 0.3s;\r\n\t\t`,\r\n\t\tTrack: styled(Track)`\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\tright: 0;\r\n\t\t\twidth: 5rem;\r\n\t\t\tdisplay: ${ props => (props['style-isVisible'] ? 'block' : 'none') };\r\n\t\t`,\r\n\t\tBar: styled(Bar)`\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\tbackground: rgba(0, 0, 0, 0.3);\r\n\t\t\tborder-radius: 10rem;\r\n\t\t\ttransition: top 0.3s;\r\n\t\t`\r\n\t}\r\n}","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport ScrolledContent from \"@components/ScrolledContent\";\r\n\r\nimport {div, el, attrs} from \"@utils\";\r\nimport {store} from \"@system/index\";\r\n\r\nclass TaskBar extends React.Component <any> {\r\n\trender () {\r\n\t\treturn (\r\n\t\t\t<div {...attrs(this.props)}>\r\n\t\t\t\t<Content>\r\n\t\t\t\t\t<ScrolledContent>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tthis.props.apps.map((function(app){\r\n\t\t\t\t\t\t\t\tconsole.log(app.typeShutcut)\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Item typeShutcut={ app.typeShutcut } onClick={ this.handlerItemClick.bind(this, app) } title={app.appInfo.name} key={app.id}>\r\n\t\t\t\t\t\t\t\t\t\t<img src={ app.appInfo.icon } alt=\"\"/>\r\n\t\t\t\t\t\t\t\t\t</Item>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}).bind(this))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</ScrolledContent>\r\n\t\t\t\t</Content>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\thandlerItemClick (app, event){\r\n\t\tevent.preventDefault();\r\n\t\tif( app.call ) app.call();\r\n\t}\r\n}\r\n\r\nlet {\r\n\tSelf: StyledTaskBar,\r\n\tContent,\r\n\tItem,\r\n} = require(\"./styles.ts\")(TaskBar, {\r\n\tContent: div(\"TaskBar_Content\"),\r\n\tItem: el(\"a\", \"TaskBar_Item\", {href: \"#\"}),\r\n})\r\n\r\n\r\nvar ConnectedStyledTaskBar = connect(function mapStateToProps(state: any, ownProps){\r\n\treturn {\r\n\t\tapps: state.Taskbar.apps,\r\n\t}\r\n}, function mapDispatchToProps(dispatch){\r\n\treturn {}\r\n})(StyledTaskBar);\r\n\r\n\r\nexport default ConnectedStyledTaskBar;\r\nexport function reducer(state: {\r\n\tapps: Array<{}>;\r\n} = {apps: []}, action){\r\n\tif( action.type.indexOf(\"Taskbar.\") !== 0 ) return state;\r\n\tvar type = action.type.replace(\"Taskbar.\", \"\");\r\n\r\n\tswitch(type){\r\n\t\tcase 'add':\r\n\t\t\tstate = {...state}\r\n\t\t\tstate.apps = state.apps.concat(action.list);\r\n\t\tbreak;\r\n\t}\r\n\treturn state\r\n}\r\n\r\nexport function setListInState (list, state){\r\n\tif( !state ) state = {};\r\n\tstate = {...state};\r\n\tif( !state.Taskbar ) state.Taskbar = {};\r\n\tstate.Taskbar = {...state.Taskbar};\r\n\tstate.Taskbar.apps = [].concat(list);\r\n\treturn state;\r\n}\r\n\r\nexport function getListFromState (state){\r\n\tif( state && state.Taskbar && state.Taskbar.apps ) return [].concat(state.Taskbar.apps);\r\n\treturn [];\r\n}","import {styled} from \"@utils\";\r\n\r\n\r\nmodule.exports = function(obj, {Content, Item, ...children}){\r\n\treturn {\r\n\t\t...children,\r\n\t\tSelf: styled(obj)`\r\n\t\t\twidth: 50rem;\r\n\t\t\tflex-grow: 0;\r\n\t\t\tflex-shrink: 1;\r\n\t\t\ttransition: left 0.3s;\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tjustify-content: center;\r\n\t\t\tmargin: 20rem 0;\r\n\t\t`,\r\n\t\tContent: styled(Content)`\r\n\t\t\twidth: 50rem;\r\n\t\t\tbackground: rgba(70, 70, 70, 0.5);\r\n\t\t\tborder-radius: 0 5rem 5rem 0;\r\n\t\t\tmax-height: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tpadding: 5rem 0;\r\n\t\t`,\r\n\t\tItem: styled(Item)`\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\twidth: 30rem;\r\n\t\t\theight: 30rem;\r\n\t\t\tmargin: 5rem auto;\r\n\t\t\ttransition: transform 0.3s;\r\n\t\t\tposition: relative;\r\n\t\t\timg,\r\n\t\t\tsvg {\r\n\t\t\t\tmax-width: 80%;\r\n\t\t\t\tmax-height: 80%;\r\n\t\t\t\tdisplay: block;\r\n\t\t\t}\r\n\t\t\t&:hover {\r\n\t\t\t\ttransform: scale(1.1)\r\n\t\t\t}\r\n\t\t\t${props => {\r\n\t\t\t\tif( props['typeShutcut'] != 'window' ) return '';\r\n\t\t\t\treturn `\r\n\t\t\t\t\t&:after {\r\n\t\t\t\t\t\tcontent: '';\r\n\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tright: 0rem;\r\n\t\t\t\t\t\tbottom: 0rem;\r\n\t\t\t\t\t\twidth: 10rem;\r\n\t\t\t\t\t\theight: 10rem;\r\n\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\tbackground: #5f5;\r\n\t\t\t\t\t}\r\n\t\t\t\t`;\r\n\t\t\t}}\r\n\t\t`\r\n\t}\r\n}","import {actions as WindowsManagerActions} from \"@components/WindowsManager\";\r\nimport {ISize, IPosition} from\t\"@interfaces\";\r\nimport {positionToSize, sizeToPosition} from \"@utils\";\r\n\r\nimport {windowStates, windowPressState, windowBorderTypes} from \"./interfaces\";\r\n\r\nexport * from \"./interfaces\";\r\nexport * from \"./methods\";\r\n\r\nimport WindowRender from \"./render\";\r\n\r\n\r\nclass Window extends WindowRender {\r\n\tprotected pressed = windowPressState.None;\r\n\tprotected lastMousePosition: IPosition;\r\n\tprotected currentBorderType: string;\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.handlerMouseMove = this.handlerMouseMove.bind(this);\r\n\t\tthis.handlerMouseUp = this.handlerMouseUp.bind(this);\r\n\t}\r\n\tcheckSizeValue(value: number | string){\r\n\t\tif(typeof value == 'number') return value + 'px';\r\n\t\treturn value;\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tif(this.props.state === windowStates.New){\r\n\t\t\tsetTimeout(() => WindowsManagerActions.show(this.props.id), 10);\r\n\t\t}\r\n\t\tdocument.documentElement.addEventListener('mousemove', this.handlerMouseMove);\r\n\t\tdocument.documentElement.addEventListener('mouseup', this.handlerMouseUp);\r\n\t}\r\n\tcomponentWillUnmount(){\r\n\t\tdocument.documentElement.removeEventListener('mousemove', this.handlerMouseMove);\r\n\t\tdocument.documentElement.removeEventListener('mouseup', this.handlerMouseUp);\r\n\t}\r\n\thandlerOnPress(event){\r\n\t\tevent.preventDefault();\r\n\t\tWindowsManagerActions.focus(this.props.id);\r\n\t}\r\n\thandlerHeaderOnPress(event){\r\n\t\tif( event.target != this.headerRef.current ) return;\r\n\t\tevent.preventDefault();\r\n\t\tthis.pressed = windowPressState.Header;\r\n\t\tthis.lastMousePosition = {\r\n\t\t\tx: event.clientX,\r\n\t\t\ty: event.clientY,\r\n\t\t}\r\n\t}\r\n\thandlerResizeBorderPress(direction: windowBorderTypes, event){\r\n\t\tevent.preventDefault();\r\n\t\tthis.pressed = windowPressState.Border;\r\n\t\tthis.lastMousePosition = {\r\n\t\t\tx: event.clientX,\r\n\t\t\ty: event.clientY,\r\n\t\t}\r\n\t\tthis.currentBorderType = direction;\r\n\t}\r\n\thandlerMouseUp(){\r\n\t\tthis.pressed = windowPressState.None;\r\n\t}\r\n\thandlerMouseMove(event){\r\n\t\tif(this.pressed == windowPressState.None) return;\r\n\r\n\t\tconst mouseMove = {\r\n\t\t\tx: event.clientX - this.lastMousePosition.x,\r\n\t\t\ty: event.clientY - this.lastMousePosition.y,\r\n\t\t}\r\n\t\t\r\n\t\tthis.lastMousePosition = {\r\n\t\t\tx: event.clientX,\r\n\t\t\ty: event.clientY,\r\n\t\t}\r\n\r\n\t\tswitch(this.pressed){\r\n\t\t\tcase windowPressState.Header:\r\n\t\t\t\tthis.onHeaderMove(mouseMove);\r\n\t\t\tbreak;\r\n\t\t\tcase windowPressState.Border:\r\n\t\t\t\tthis.onBorderMove(this.lastMousePosition);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\thandlerButtonControlClick(type, event){\r\n\t\tevent.preventDefault();\r\n\t\tswitch(type){\r\n\t\t\tcase 'close':\r\n\t\t\t\tWindowsManagerActions.close(this.props.id);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tonHeaderMove(mouseMove: IPosition){\r\n\t\tthis.addPosition(mouseMove);\r\n\t}\r\n\tonBorderMove(mousePosition: IPosition){\r\n\t\tvar size = this.getSize();\r\n\t\tvar position = this.getPosition();\r\n\r\n\t\tvar bounds = {\r\n\t\t\tx1: position.x,\r\n\t\t\ty1: position.y,\r\n\t\t\tx2: position.x + size.width,\r\n\t\t\ty2: position.y + size.height,\r\n\t\t}\r\n\r\n\t\tvar changed = {x: 0, y: 0}\r\n\r\n\t\tswitch(this.currentBorderType){\r\n\t\t\tcase windowBorderTypes.Left:\r\n\t\t\t\tbounds.x1 = mousePosition.x;\r\n\t\t\t\tchanged['x'] = 1;\r\n\t\t\tbreak;\r\n\t\t\tcase windowBorderTypes.Right:\r\n\t\t\t\tbounds.x2 = mousePosition.x;\r\n\t\t\t\tchanged['x'] = 2;\r\n\t\t\tbreak;\r\n\t\t\tcase windowBorderTypes.Top:\r\n\t\t\t\tbounds.y1 = mousePosition.y;\r\n\t\t\t\tchanged['y'] = 1;\r\n\t\t\tbreak;\r\n\t\t\tcase windowBorderTypes.Bottom:\r\n\t\t\t\tbounds.y2 = mousePosition.y;\r\n\t\t\t\tchanged['y'] = 2;\r\n\t\t\tbreak;\r\n\t\t\tcase windowBorderTypes.LeftTop:\r\n\t\t\t\tbounds.x1 = mousePosition.x;\r\n\t\t\t\tbounds.y1 = mousePosition.y;\r\n\t\t\t\tchanged['x'] = 1;\r\n\t\t\t\tchanged['y'] = 1;\r\n\t\t\tbreak;\r\n\t\t\tcase windowBorderTypes.LeftBottom:\r\n\t\t\t\tbounds.x1 = mousePosition.x;\r\n\t\t\t\tbounds.y2 = mousePosition.y;\r\n\t\t\t\tchanged['x'] = 1;\r\n\t\t\t\tchanged['y'] = 2;\r\n\t\t\tbreak;\r\n\t\t\tcase windowBorderTypes.RightTop:\r\n\t\t\t\tbounds.x2 = mousePosition.x;\r\n\t\t\t\tbounds.y1 = mousePosition.y;\r\n\t\t\t\tchanged['x'] = 2;\r\n\t\t\t\tchanged['y'] = 1;\r\n\t\t\tbreak;\r\n\t\t\tcase windowBorderTypes.RightBottom:\r\n\t\t\t\tbounds.x2 = mousePosition.x;\r\n\t\t\t\tbounds.y2 = mousePosition.y;\r\n\t\t\t\tchanged['x'] = 2;\r\n\t\t\t\tchanged['y'] = 2;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tvar minSize = sizeToPosition(this.getMinSize());\r\n\r\n\t\t;['x', 'y'].forEach(function(direction){\r\n\t\t\tif( changed[direction] ){\r\n\t\t\t\tbounds[direction + changed[direction]] = mousePosition[direction];\r\n\t\t\t\tif( (bounds[direction + 2] - bounds[direction + 1]) < minSize[direction] ){\r\n\t\t\t\t\tbounds[direction + changed[direction]] = (\r\n\t\t\t\t\t\tchanged[direction] == 1 ?\r\n\t\t\t\t\t\tbounds[direction + 2] - minSize[direction] :\r\n\t\t\t\t\t\tbounds[direction + 1] + minSize[direction]\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\r\n\t\tposition = {\r\n\t\t\tx: bounds.x1,\r\n\t\t\ty: bounds.y1,\r\n\t\t}\r\n\t\tsize = {\r\n\t\t\twidth: bounds.x2 - bounds.x1,\r\n\t\t\theight: bounds.y2 - bounds.y1,\r\n\t\t}\r\n\r\n\t\tthis.setSize(size);\r\n\t\tthis.setPosition(position);\r\n\t}\r\n\r\n\tgetMinSize(){\r\n\t\treturn {\r\n\t\t\twidth: ( this.props.minWidth > 50 ? this.props.minWidth : 50 ),\r\n\t\t\theight: ( this.props.minHeight > 50 ? this.props.minHeight : 50 ),\r\n\t\t}\r\n\t}\r\n\tgetMaxSize(){\r\n\t\treturn {\r\n\t\t\twidth: this.props.maxWidth,\r\n\t\t\theight: this.props.maxHeight,\r\n\t\t}\r\n\t}\r\n\r\n\tcheckSize(_size: ISize){\r\n\t\tvar size = {..._size};\r\n\t\tvar minSize = this.getMinSize();\r\n\r\n\t\tif(size.width < minSize.width) size.width = minSize.width;\r\n\t\tif(size.height < minSize.height) size.height = minSize.height;\r\n\r\n\t\treturn size;\r\n\t}\r\n\r\n\tgetSize(){\r\n\t\treturn {\r\n\t\t\twidth: this.props.width,\r\n\t\t\theight: this.props.height,\r\n\t\t}\r\n\t}\r\n\tsetSize(size: ISize){\r\n\t\tsize = this.checkSize(size);\r\n\t\tWindowsManagerActions.resize(this.props.id, size);\r\n\t}\r\n\taddSize(addSize: ISize){\r\n\t\tlet size = this.getSize();\r\n\t\tif(addSize.width) size.width += addSize.width;\r\n\t\tif(addSize.height) size.height += addSize.height;\r\n\t\tthis.setSize(size);\r\n\t}\r\n\tgetPosition(){\r\n\t\tlet position = {\r\n\t\t\tx: this.props.x || 0,\r\n\t\t\ty: this.props.y || 0,\r\n\t\t}\r\n\t\treturn position;\r\n\t}\r\n\tsetPosition(position){\r\n\t\tWindowsManagerActions.move(this.props.id, {\r\n\t\t\tx: position.x,\r\n\t\t\ty: position.y,\r\n\t\t});\r\n\t}\r\n\taddPosition(addPosition){\r\n\t\tlet position = this.getPosition();\r\n\t\tif(addPosition.x) position.x += addPosition.x;\r\n\t\tif(addPosition.y) position.y += addPosition.y;\r\n\t\tthis.setPosition(position);\r\n\t}\r\n}\r\n\r\n\r\nlet StyledWindow = require('./styles')(Window);\r\nexport default StyledWindow;","import {IAppInfo} from \"@interfaces\";\r\n\r\nexport enum windowStates {\r\n\tNew \t\t= 0b0000001,\r\n\tMinimized \t= 0b0000010,\r\n\tNormal \t\t= 0b0000100,\r\n\tMaximized \t= 0b0001000,\r\n\tClosing\t\t= 0b0010000,\r\n\tisVisible\t= 0b0001100,\r\n\tisOpened\t= 0b0001111,\r\n}\r\n\r\nexport enum windowPressState {\r\n\tNone,\r\n\tHeader,\r\n\tBorder,\r\n}\r\n\r\nexport enum windowBorderTypes {\r\n\tTop\t\t\t\t= 'top',\r\n\tLeft\t\t\t= 'left',\r\n\tRight\t\t\t= 'right',\r\n\tBottom\t\t\t= 'bottom',\r\n\tLeftTop\t\t\t= 'left-top',\r\n\tLeftBottom\t\t= 'left-bottom',\r\n\tRightTop\t\t= 'right-top',\r\n\tRightBottom\t\t= 'right-bottom',\r\n}\r\n\r\nexport interface IPropsInstanceNoStrict {\r\n\twidth\t\t\t?: string | number,\r\n\theight\t\t\t?: string | number,\r\n\tx\t\t\t\t?: string | number,\r\n\ty\t\t\t\t?: string | number,\r\n\tminWidth\t\t?: number,\r\n\tminHeight\t\t?: number,\r\n\tmaxWidth\t\t?: number,\r\n\tmaxHeight\t\t?: number,\r\n\r\n\tinFocus\t\t\t?: boolean;\r\n\tstate\t\t\t?: windowStates;\r\n\ttoState\t\t\t?: windowStates;\r\n\tresizable\t\t?: boolean;\r\n\r\n\tappInfo\t\t\t?: IAppInfo;\r\n}\r\n\r\nexport interface IPropsInstance extends IPropsInstanceNoStrict {\r\n\twidth\t\t\t?: number,\r\n\theight\t\t\t?: number,\r\n\tx\t\t\t\t?: number,\r\n\ty\t\t\t\t?: number,\r\n}\r\n\r\ninterface _IProps {\r\n\tcontentId?\t\t: any;\r\n\tid\t\t\t\t: any;\r\n\tcontent?\t\t: React.ComponentType<{id: string, state: any, contentId: string}>;\r\n\tcontentState?\t: any;\r\n}\r\n\r\nexport interface IProps extends IPropsInstance, _IProps {\r\n}\r\nexport interface IPropsNoStrict extends IPropsInstanceNoStrict, _IProps {\r\n}\r\n\r\nexport const defaultWindowProps:IPropsInstance = {\r\n\tx\t\t\t\t: 100,\r\n\ty\t\t\t\t: 100,\r\n\twidth\t\t\t: 400,\r\n\theight\t\t\t: 400,\r\n\tminWidth\t\t: 0,\r\n\tminHeight\t\t: 0,\r\n\tmaxWidth\t\t: 0,\r\n\tmaxHeight\t\t: 0,\r\n\tinFocus\t\t\t: false,\r\n\tstate\t\t\t: windowStates.New,\r\n\ttoState\t\t\t: windowStates.Normal,\r\n\tresizable\t\t: true,\r\n\tappInfo\t\t\t: null,\r\n}","import {windowStates, IPropsInstance, IProps} from \"./interfaces\";\r\n\r\nexport function isState(windowProps: IPropsInstance, needState: windowStates){\r\n\tvar state = windowProps.state;\r\n\t// if( windowProps.state == windowStates.New ){\r\n\t// \tstate = windowProps.toState;\r\n\t// }\r\n\treturn !!(state & needState);\r\n}\r\n\r\nexport function isNormal(windowProps: IPropsInstance){\r\n\treturn isState(windowProps, windowStates.Normal);\r\n}\r\nexport function isMaximized(windowProps: IPropsInstance){\r\n\treturn isState(windowProps, windowStates.Maximized);\r\n}\r\nexport function isMinimized(windowProps: IPropsInstance){\r\n\treturn isState(windowProps, windowStates.Minimized);\r\n}\r\nexport function isClosing(windowProps: IPropsInstance){\r\n\treturn isState(windowProps, windowStates.Closing);\r\n}\r\n\r\nexport function isVisible(windowProps: IPropsInstance){\r\n\treturn isState(windowProps, windowStates.isVisible) && !isMinimized(windowProps);\r\n}\r\n\r\nexport function isOpened(windowProps: IPropsInstance){\r\n\treturn isState(windowProps, windowStates.isOpened) && !isClosing(windowProps);\r\n}","import * as React from \"react\";\r\nimport {div, el, mapToArray} from \"@utils\";\r\nimport {windowStates, IProps, windowBorderTypes} from \"./interfaces\";\r\nimport {isVisible} from \"./index\";\r\n\r\n\r\nexport default abstract class WindowRender extends React.PureComponent<IProps & React.HTMLAttributes<HTMLDivElement>> {\r\n\tprotected boxRef = React.createRef<HTMLDivElement>();\r\n\tprotected headerRef = React.createRef<HTMLDivElement>();\r\n\t\r\n\tabstract handlerOnPress(event): void;\r\n\tabstract handlerHeaderOnPress(event): void;\r\n\tabstract handlerResizeBorderPress(direction, event): void;\r\n\t\r\n\tabstract handlerButtonControlClick(type, event): void;\r\n\r\n\tcheckSizeValue(value: number | string){\r\n\t\tif(typeof value == 'number') return value + 'px';\r\n\t\treturn value;\r\n\t}\r\n\r\n\trender(){\r\n\t\tconst Content = this.props.content;\r\n\t\tconst contentState = this.props.contentState;\r\n\r\n\t\tlet style = {\r\n\t\t\tleft\t\t: this.props.x + 'px',\r\n\t\t\ttop \t\t: this.props.y + 'px',\r\n\t\t\twidth\t\t: this.checkSizeValue(this.props.width),\r\n\t\t\theight\t\t: this.checkSizeValue(this.props.height),\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Box\r\n\t\t\t\tstyle={style}\r\n\t\t\t\telementRef={this.boxRef}\r\n\t\t\t\tisVisible={ isVisible(this.props) }\r\n\t\t\t\tinFocus={ this.props.inFocus }\r\n\t\t\t\tclassName={this.props.className}\r\n\t\t\t\tonMouseDown={ this.handlerOnPress.bind(this) }\r\n\t\t\t>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.props.resizable && mapToArray(\twindowBorderTypes, (type, index) =>\r\n\t\t\t\t\t\t<ResizeBorder\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\tonMouseDown={ this.handlerResizeBorderPress.bind(this, type) }\r\n\t\t\t\t\t\t\tType={type}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\t<Header\r\n\t\t\t\t\telementRef\t={ this.headerRef }\r\n\r\n\t\t\t\t\tonMouseDown\t={ this.handlerHeaderOnPress.bind(this) }\r\n\t\t\t\t>\r\n\t\t\t\t\t<Buttons>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t['close', this.props.resizable && 'maximize', 'minimize'].map( (type) =>\r\n\t\t\t\t\t\t\t\ttype && <ButtonControl key={type} button-type={type} onClick={ this.handlerButtonControlClick.bind(this, type) } />\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</Buttons>\r\n\t\t\t\t</Header>\r\n\t\t\t\t<Body>\r\n\t\t\t\t\t<Content id={ this.props.id } contentId={ this.props.contentId } state={contentState} />\r\n\t\t\t\t</Body>\r\n\t\t\t</Box>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nlet {\r\n\tBox,\r\n\tHeader,\r\n\tBody,\r\n\tButtons,\r\n\tButtonControl,\r\n\r\n\tResizeBorder,\r\n} = require('./styles').children({\r\n\tBox: div(\"Window_Box\"),\r\n\tHeader: div(\"Window_Header\"),\r\n\tBody: div(\"Window_Body\"),\r\n\tButtons: div(\"Window_Buttons\"),\r\n\tButtonControl: el(\"button\", \"Window_ButtonControl\"),\r\n\r\n\tResizeBorder: div(\"Window_ResizeBorder\"),\r\n})","import {styled} from \"@utils\";\r\n\r\n\r\nmodule.exports = function(Self){\r\n\treturn styled(Self)`\r\n\t\tposition: fixed;\r\n\t\twidth: 400rem;\r\n\t\theight: 400rem;\r\n\t\tbackground: rgba(70, 70, 70, 0.99);\r\n\t`;\r\n}\r\n\r\nmodule.exports.children = function({Box, Header, Body, Buttons, ButtonControl, ResizeBorder, ...children}){\r\n\treturn {\r\n\t\t...children,\r\n\t\tBox: styled(Box)`\r\n\t\t\ttransform: scale(${ (props) => props['isVisible'] ? '1' : '0' });\r\n\t\t\topacity: ${ boxOpacity };\r\n\t\t\tbox-shadow: ${(props) => props['inFocus'] ? '0 0 30rem rgba(0, 0, 0, 0.5)' : '0 0 10rem rgba(0, 0, 0, 0.1)'};\r\n\t\t\ttop: 100rem;\r\n\t\t\tleft: 100rem;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\ttransition: transform 0.3s, opacity 0.3s, top 0.05s, left 0.05s, height 0.05s, width 0.05s;\r\n\t\t`,\r\n\t\tHeader: styled(Header)`\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 20rem;\r\n\t\t\tbackground: rgba(0, 0, 0, 0.8);\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-grow: 0;\r\n\t\t\tflex-shrink: 0;\r\n\t\t\tposition: relative;\r\n\t\t`,\r\n\t\tBody: styled(Body)`\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tflex-grow: 1;\r\n\t\t\toverflow: hidden;\r\n\t\t\tposition: relative;\r\n\t\t`,\r\n\t\tButtons: styled(Buttons)`\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 6rem;\r\n\t\t`,\r\n\t\tButtonControl: styled(ButtonControl)`\r\n\t\t\tdisplay: block;\r\n\t\t\twidth: 8rem;\r\n\t\t\theight: 8rem;\r\n\t\t\tpadding: 0;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tborder: 0;\r\n\t\t\ttransition: all 0.3s;\r\n\t\t\tcursor: pointer;\r\n\t\t\tmargin-right: 4rem;\r\n\t\t\t${ buttonStyles }\r\n\t\t`,\r\n\t\tResizeBorder: styled(ResizeBorder)`\r\n\t\t\tposition: absolute;\r\n\t\t\tfont-size: 4rem;\r\n\t\t\tz-index: 2;\r\n\t\t\tbackground: red;\r\n\t\t\t${ ResizeBorderStyle };\r\n\t\t`\r\n\t}\r\n}\r\nfunction buttonStyles(props){\r\n\tlet color = '';\r\n\tlet colorHover = '';\r\n\tswitch(props['button-type']){\r\n\t\tcase 'close':\r\n\t\t\tcolor = '#f77';\r\n\t\t\tcolorHover = '#f55';\r\n\t\tbreak;\r\n\t\tcase 'minimize':\r\n\t\t\tcolor = '#7f7';\r\n\t\t\tcolorHover = '#5f5';\r\n\t\tbreak;\r\n\t\tcase 'maximize':\r\n\t\t\tcolor = '#ff7';\r\n\t\t\tcolorHover = '#ff5';\r\n\t\tbreak;\r\n\t}\r\n\treturn `\r\n\t\tbackground: ${ color };\r\n\t\t&:hover {\r\n\t\t\tbackground: ${ colorHover };\r\n\t\t}\r\n\t`;\r\n}\r\nfunction boxOpacity(props) {\r\n\tif( props['isVisible'] ){\r\n\t\tif( props['inFocus'] ){\r\n\t\t\treturn '1';\r\n\t\t}\r\n\t\treturn '0.8';\r\n\t}\r\n\treturn '0';\r\n}\r\nfunction ResizeBorderStyle(props){\r\n\tvar result = '';\r\n\r\n\tswitch(props['Type']){\r\n\t\tcase 'top':\r\n\t\t\tresult += `\r\n\t\t\t\ttop: -0.5em;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tright: 0;\r\n\t\t\t\theight: 1em;\r\n\t\t\t\tcursor: ns-resize !important;\r\n\t\t\t`;\r\n\t\tbreak;\r\n\t\tcase 'bottom':\r\n\t\t\tresult += `\r\n\t\t\t\tbottom: -0.5em;\r\n\t\t\t\tleft: 0;\r\n\t\t\t\tright: 0;\r\n\t\t\t\theight: 1em;\r\n\t\t\t\tcursor: ns-resize !important;\r\n\t\t\t`;\r\n\t\tbreak;\r\n\t\tcase 'left':\r\n\t\t\tresult += `\r\n\t\t\t\tleft: -0.5em;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\twidth: 1em;\r\n\t\t\t\tcursor: ew-resize !important;\r\n\t\t\t`;\r\n\t\tbreak;\r\n\t\tcase 'right':\r\n\t\t\tresult += `\r\n\t\t\t\tright: -0.5em;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\twidth: 1em;\r\n\t\t\t\tcursor: ew-resize !important;\r\n\t\t\t`;\r\n\t\tbreak;\r\n\t\tcase 'left-top':\r\n\t\t\tresult += `\r\n\t\t\t\ttop: -0.5em;\r\n\t\t\t\tleft: -0.5em;\r\n\t\t\t\twidth: 1em;\r\n\t\t\t\theight: 1em;\r\n\t\t\t\tcursor: nwse-resize !important;\r\n\t\t\t`;\r\n\t\tbreak;\r\n\t\tcase 'right-bottom':\r\n\t\t\tresult += `\r\n\t\t\t\tbottom: -0.5em;\r\n\t\t\t\tright: -0.5em;\r\n\t\t\t\twidth: 1em;\r\n\t\t\t\theight: 1em;\r\n\t\t\t\tcursor: nwse-resize !important;\r\n\t\t\t`;\r\n\t\tbreak;\r\n\t\tcase 'right-top':\r\n\t\t\tresult += `\r\n\t\t\t\ttop: -0.5em;\r\n\t\t\t\tright: -0.5em;\r\n\t\t\t\twidth: 1em;\r\n\t\t\t\theight: 1em;\r\n\t\t\t\tcursor: nesw-resize !important;\r\n\t\t\t`;\r\n\t\tbreak;\r\n\t\tcase 'left-bottom':\r\n\t\t\tresult += `\r\n\t\t\t\tbottom: -0.5em;\r\n\t\t\t\tleft: -0.5em;\r\n\t\t\t\twidth: 1em;\r\n\t\t\t\theight: 1em;\r\n\t\t\t\tcursor: nesw-resize !important;\r\n\t\t\t`;\r\n\t\tbreak;\r\n\t}\r\n\tif( props['Type'].indexOf('-') != -1 ){\r\n\t\tresult += `\r\n\t\t\tz-index: 3;\r\n\t\t\tbackground: green;\r\n\t\t`;\r\n\t}\r\n\r\n\treturn result;\r\n}","import * as React from \"react\";\r\nimport {stateLoad, stateRemove, stateSave} from \"@utils\";\r\n\r\nexport interface IWindowContentProps {\r\n\tid: string;\r\n\tcontentId: string;\r\n}\r\n\r\nexport default class WindowContent<P, S> extends React.Component<IWindowContentProps & P, S> {\r\n\tprivate stateId: string;\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.stateId = \"Content:\" + this.props.contentId + ':' + this.props.id;\r\n\t\tthis.state = stateLoad(this.stateId);\r\n\t}\r\n\tcomponentDidUpdate(){\r\n\t\tstateSave(this.stateId, this.state);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tstateSave(this.stateId, this.state);\r\n\t}\r\n\tcomponentWillUnmount(){\r\n\t\tstateRemove(this.stateId);\r\n\t}\r\n}","import {defaultWindowProps, IPropsNoStrict, IPropsInstanceNoStrict} from \"@components/Window\";\r\nimport {store} from \"@system/index\";\r\nimport {createAction, uid} from \"@utils\";\r\nimport {ISize, IPosition} from\t\"@interfaces\";\r\n\r\nimport {windowCalcState, getList} from \"./methods\";\r\n\r\nlet _createAction = createAction.bind({}, \"WindowsManager\");\r\n\r\nexport {_createAction as createAction};\r\nexport function getActionName(name){\r\n\treturn _createAction(name).type;\r\n}\r\n\r\nexport let actions = {\r\n\t_load(){\r\n\t\tstore.dispatch(_createAction(\"load\"));\r\n\t\tactions.countChanged();\r\n\t},\r\n\topen(props: {options?: IPropsInstanceNoStrict, content, callback?}) {\r\n\t\tvar options: IPropsNoStrict = {\r\n\t\t\t...defaultWindowProps,\r\n\t\t\tid: uid(),\r\n\t\t\t...props.options,\r\n\t\t};\r\n\t\toptions = {\r\n\t\t\t...options,\r\n\t\t\t...windowCalcState(options),\r\n\t\t}\r\n\t\tprops.options = options;\r\n\t\tstore.dispatch(_createAction(\"open\", props));\r\n\t\tactions.focus( options.id );\r\n\t\tactions.countChanged();\r\n\t},\r\n\tfocus(windowId: string){\r\n\t\tstore.dispatch(_createAction(\"focus\", {windowId}));\r\n\t},\r\n\tmove(windowId: string, position: IPosition){\r\n\t\tstore.dispatch(_createAction(\"move\", {windowId, position}));\r\n\t},\r\n\tshow(windowId: string){\r\n\t\tstore.dispatch(_createAction(\"show\", {windowId}));\r\n\t},\r\n\thide(windowId: string){\r\n\t\tstore.dispatch(_createAction(\"hide\", {windowId}));\r\n\t},\r\n\tclose(windowId){\r\n\t\tstore.dispatch(_createAction(\"closing\", {windowId}));\r\n\t\tactions.hide(windowId);\r\n\t\tsetTimeout(function(){\r\n\t\t\tstore.dispatch(_createAction(\"close\", {windowId}));\r\n\t\t}, 300);\r\n\t\tactions.countChanged();\r\n\t},\r\n\tresize(windowId, size: ISize){\r\n\t\tstore.dispatch(_createAction(\"resize\", {windowId, size}));\r\n\t},\r\n\tcountChanged(){\r\n\t\tstore.dispatch(_createAction(\"countChanged\", {list: getList()}));\r\n\t}\r\n}","import * as React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {getWindowContent} from \"@utils\";\r\nimport {actions, getActionName} from \"./actions\";\r\nexport {actions, getActionName};\r\n\r\nimport Window, {defaultWindowProps} from \"@components/Window\";\r\nimport {IWindowsManagerProps, IWindowsManagerDispatchProps} from \"./interfaces\";\r\nimport {reducer} from \"./reducer\";\r\nexport {reducer};\r\n\r\nclass WindowsManager extends React.Component<IWindowsManagerProps & IWindowsManagerDispatchProps> {\r\n\trender(){\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{ this.props.opened.map(this.renderWindow.bind(this)) }\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n\trenderWindow(window){\r\n\t\treturn (<Window key={window.id} {...{...window, ...getWindowContent(window)}} />);\r\n\t}\r\n\tcomponentDidMount(){\r\n\t\tactions._load();\r\n\t}\r\n}\r\n\r\n\r\nvar ConnectedWindowsManager = connect<IWindowsManagerProps, IWindowsManagerDispatchProps, any>(function mapStateToProps(state: any, ownProps){\r\n\treturn {...state.WindowsManager};\r\n}, function mapDispatchToProps(dispatch): IWindowsManagerDispatchProps{\r\n\treturn {};\r\n})(WindowsManager);\r\n\r\nexport default ConnectedWindowsManager;","import {getContentState} from \"@system/window\";\r\nimport {isMaximized, isOpened} from \"@components/Window/index\"\r\nimport {round} from \"@utils\";\r\nimport {ISize, IPosition} from\t\"@interfaces\";\r\nimport {store} from \"@system/index\";\r\n\r\nexport function windowFocus(list, windowId){\r\n\tvar focusWindow;\r\n\tlist = list.filter(function(window) {\r\n\t\tif( window.id === windowId ){\r\n\t\t\tfocusWindow = window;\r\n\t\t\twindow.inFocus = true;\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\twindow.inFocus = false;\r\n\t\treturn true;\r\n\t});\r\n\tif(focusWindow) list.push(focusWindow);\r\n\treturn list;\r\n}\r\nexport function windowMap(list, windowId, handler){\r\n\treturn list.map(function(window){\r\n\t\tif( window.id != windowId ) return window;\r\n\t\treturn handler(window);\r\n\t})\r\n}\r\n\r\nvar isPercent \t= /[0-9.]+\\%/;\r\n\r\nfunction parsePercent(val){\r\n\treturn (parseFloat(val) || 0)/100;\r\n}\r\n\r\nfunction _windowCalcState(keyPosition, keySize, windowProps, contentProps) {\r\n\tvar result = {};\r\n\tif( isMaximized(windowProps) ){\r\n\t\tresult[keyPosition] = contentProps[keyPosition];\r\n\t\tresult[keySize] = contentProps[keySize];\r\n\t\treturn result;\r\n\t}\r\n\r\n\tvar windowSize = windowClasStateSize(keySize, windowProps, contentProps);\r\n\tvar windowPosition = windowProps[keyPosition];\r\n\r\n\tvar contentSize = contentProps[keySize];\r\n\r\n\tswitch(windowPosition){\r\n\t\tcase 'center'\t:\r\n\t\t\twindowPosition = '50%';\r\n\t\tbreak;\r\n\t\tcase 'left'\t\t:\r\n\t\tcase 'top'\t\t:\r\n\t\t\twindowPosition = '0%';\r\n\t\tbreak;\r\n\t\tcase 'right'\t:\r\n\t\tcase 'bottom'\t:\r\n\t\t\twindowPosition = '100%';\r\n\t\tbreak;\r\n\t}\r\n\r\n\tif( isPercent.test(windowPosition) ){\r\n\t\twindowPosition = parsePercent( windowPosition )*(contentSize - windowSize) || 0;\r\n\t} else {\r\n\t\twindowPosition = parseFloat(windowPosition) || 0;\r\n\t}\r\n\r\n\twindowPosition += contentProps[keyPosition];\r\n\tresult[keySize] = round(windowSize, 3);\r\n\tresult[keyPosition] = round(windowPosition, 3);\r\n\r\n\treturn result;\r\n}\r\nfunction windowClasStateSize(keySize, windowProps, contentProps) {\r\n\tif( isPercent.test(windowProps[keySize]) ){\r\n\t\treturn parsePercent(windowProps[keySize])*contentProps[keySize];\r\n\t}\r\n\treturn parseFloat(windowProps[keySize]) || 0;\r\n}\r\n\r\nexport function windowCalcState(windowProps:\r\n\t{ width?: any, height?: any, x?: any, y?: any}\r\n) : ISize & IPosition {\r\n\tvar contentState = getContentState();\r\n\r\n\tvar result = {\r\n\t\twidth: 0,\r\n\t\theight: 0,\r\n\t\tx: 0,\r\n\t\ty: 0,\r\n\t}\r\n\r\n\tresult = {\r\n\t\t...result,\r\n\t\t..._windowCalcState('x', 'width', windowProps, contentState),\r\n\t\t..._windowCalcState('y', 'height', windowProps, contentState),\r\n\t}\r\n\r\n\treturn result;\r\n}\r\n\r\nexport function getList(){\r\n\treturn store.getState().WindowsManager.opened.filter( window => isOpened(window) );\r\n}","import {defaultWindowProps, windowStates} from \"@components/Window\";\r\nimport {checkAction, stateLoad, stateSave} from \"@utils\";\r\nimport {IWindowsManagerProps} from \"./interfaces\";\r\nimport {windowFocus, windowMap} from \"./methods\";\r\n\r\nexport function reducer(state: IWindowsManagerProps = {\r\n\topened: []\r\n}, action){\r\n\tvar type = \"\";\r\n\tif(!(type = checkAction(\"WindowsManager\", action))) return state;\r\n\r\n\tswitch(type){\r\n\t\tcase 'open':\r\n\t\t\tstate = {...state};\r\n\t\t\tstate.opened = state.opened.concat({\r\n\t\t\t\t...defaultWindowProps,\r\n\t\t\t\t...action.options,\r\n\t\t\t\tcontent: action.content,\r\n\t\t\t});\r\n\t\t\taction.callback(action.id);\r\n\t\tbreak;\r\n\t\tcase 'load':\r\n\t\t\tstate = stateLoad<IWindowsManagerProps>(\"WindowsManager\", {\r\n\t\t\t\topened: []\r\n\t\t\t});\r\n\t\tbreak;\r\n\t\tcase 'focus':\r\n\t\t\tstate.opened = windowFocus(state.opened, action.windowId);\r\n\t\tbreak;\r\n\t\tcase 'show':\r\n\t\t\tstate.opened = windowMap(state.opened, action.windowId, function(window){\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...window,\r\n\t\t\t\t\tstate: window.toState || windowStates.Normal\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\tbreak;\r\n\t\tcase 'hide':\r\n\t\t\tstate.opened = windowMap(state.opened, action.windowId, function(window){\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...window,\r\n\t\t\t\t\tstate: window.state | windowStates.Minimized\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\tbreak;\r\n\t\tcase 'close':\r\n\t\t\tstate.opened = state.opened.filter( window => window.id !== action.windowId );\r\n\t\tbreak;\r\n\t\tcase 'closing':\r\n\t\t\tstate.opened = windowMap(state.opened, action.windowId, function(window){\r\n\t\t\t\twindow = {...window};\r\n\t\t\t\twindow.state = window.state | windowStates.Closing;\r\n\t\t\t\treturn window;\r\n\t\t\t});\r\n\t\tbreak;\r\n\t\tcase 'move':\r\n\t\t\tstate.opened = windowMap(state.opened, action.windowId, function(window){\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...window,\r\n\t\t\t\t\t...action.position,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\tbreak;\r\n\t\tcase 'resize':\r\n\t\t\tstate.opened = windowMap(state.opened, action.windowId, function(window){\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...window,\r\n\t\t\t\t\t...action.size,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\tbreak;\r\n\t}\r\n\r\n\tstateSave(\"WindowsManager\", state);\r\n\r\n\treturn state;\r\n}"],"sourceRoot":""}